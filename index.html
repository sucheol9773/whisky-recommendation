<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸° - MBTI ìŠ¤íƒ€ì¼ ìœ„ìŠ¤í‚¤ ì¶”ì²œ</title>
    <meta name="description" content="MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì·¨í–¥ì— ë”± ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œí•´ë“œë ¤ìš”. 3ë¶„ì´ë©´ ì™„ë£Œ!">
    <meta name="keywords" content="ìœ„ìŠ¤í‚¤, ì¶”ì²œ, MBTI, ì·¨í–¥, í…ŒìŠ¤íŠ¸, ìœ„ìŠ¤í‚¤ ì¶”ì²œ, ìŠ¤ì¹´ì¹˜, ë²„ë²ˆ, ì¼ë³¸ìœ„ìŠ¤í‚¤">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°">
    <meta property="og:description" content="MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ì·¨í–¥ì— ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œë°›ìœ¼ì„¸ìš”!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://whisky-recommendation.vercel.app/">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°">
    <meta name="twitter:description" content="MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ì·¨í–¥ì— ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œë°›ìœ¼ì„¸ìš”!">
    
    <meta name="theme-color" content="#f59e0b">
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // ê°„ë‹¨í•œ ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ë“¤
        const ChevronRight = () => <span>â†’</span>;
        const ChevronLeft = () => <span>â†</span>;
        const RotateCcw = () => <span>â†»</span>;
        const Star = () => <span>â­</span>;
        const MapPin = () => <span>ğŸ“</span>;
        const Zap = () => <span>âš¡</span>;
        const Grape = () => <span>ğŸ‡</span>;

        const WhiskyRecommendationApp = () => {
          const [currentScreen, setCurrentScreen] = useState('landing');
          const [currentStep, setCurrentStep] = useState(0);
          const [answers, setAnswers] = useState({});
          const [result, setResult] = useState(null);

          const startTest = () => {
            setCurrentScreen('test');
          };

          const resetTest = () => {
            setCurrentStep(0);
            setAnswers({});
            setResult(null);
            setCurrentScreen('landing');
          };

          // ì§ˆë¬¸ ë°ì´í„°
          const questions = [
            {
              id: 'experience',
              title: 'ìœ„ìŠ¤í‚¤ ê²½í—˜ì´ ì–´ëŠ ì •ë„ì¸ê°€ìš”?',
              type: 'single',
              options: [
                { value: 'beginner', label: 'ì™„ì „ ì´ˆë³´ì (ìœ„ìŠ¤í‚¤ë¥¼ ê±°ì˜ ì•ˆ ë§ˆì…”ë´¤ì–´ìš”)', icon: 'ğŸŒ±' },
                { value: 'casual', label: 'ê°€ë” ë§ˆì…”ë´¤ì–´ìš” (í•˜ì´ë³¼ ì •ë„)', icon: 'ğŸ¹' },
                { value: 'interested', label: 'ê´€ì‹¬ì´ ìƒê²¨ì„œ ì•Œì•„ë³´ëŠ” ì¤‘ì´ì—ìš”', icon: 'ğŸ¤”' },
                { value: 'experienced', label: 'ì–´ëŠ ì •ë„ ê²½í—˜ì´ ìˆì–´ìš”', icon: 'ğŸ¥ƒ' }
              ]
            },
            {
              id: 'whisky_type_preference',
              title: 'ì–´ë–¤ ì¢…ë¥˜ì˜ ìœ„ìŠ¤í‚¤ì— ê´€ì‹¬ì´ ìˆìœ¼ì‹ ê°€ìš”?',
              type: 'multiple',
              subtitle: 'ìƒì‚°ì§€/ì œì¡°ë°©ì‹ë³„ ì„ í˜¸ë„ (ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥)',
              options: [
                { value: 'scotch_single', label: 'ìŠ¤ì¹´ì¹˜ ì‹±ê¸€ëª°íŠ¸ (í•œ ì¦ë¥˜ì†Œë§Œ, ê¹Šê³  ê°œì„±ì ì¸ ë§›)', icon: 'ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿' },
                { value: 'scotch_blend', label: 'ìŠ¤ì¹´ì¹˜ ë¸”ë Œë””ë“œ (ì—¬ëŸ¬ ìœ„ìŠ¤í‚¤ ì¡°í•©, ê· í˜•ì¡íŒ ë§›)', icon: 'ğŸ¥ƒ' },
                { value: 'american_bourbon', label: 'ì•„ë©”ë¦¬ì¹¸ ë²„ë²ˆ (ë‹¬ì½¤í•˜ê³  ë°”ë‹ë¼í–¥ ê°•í•œ)', icon: 'ğŸ‡ºğŸ‡¸' },
                { value: 'japanese', label: 'ì¼ë³¸ ìœ„ìŠ¤í‚¤ (ì„¬ì„¸í•˜ê³  ìš°ì•„í•œ, ê½ƒí–¥ê³¼ ê· í˜•ë¯¸)', icon: 'ğŸ‡¯ğŸ‡µ' },
                { value: 'irish', label: 'ì•„ì´ë¦¬ì‹œ ìœ„ìŠ¤í‚¤ (ë¶€ë“œëŸ½ê³  ìˆœí•œ, ì´ˆë³´ì ì¹œí™”ì )', icon: 'ğŸ‡®ğŸ‡ª' },
                { value: 'any', label: 'ìƒê´€ì—†ì–´ìš” (ë‹¤ì–‘í•˜ê²Œ ê²½í—˜í•´ë³´ê³  ì‹¶ì–´ìš”)', icon: 'ğŸŒ' }
              ]
            },
            {
              id: 'flavor_intensity',
              title: 'ìœ„ìŠ¤í‚¤ì˜ ë§› ê°•ë„ëŠ” ì–´ëŠ ì •ë„ë¥¼ ì„ í˜¸í•˜ì‹œë‚˜ìš”?',
              type: 'single',
              options: [
                { value: 'mild', label: 'ë¶€ë“œëŸ½ê³  ìˆœí•œ ë§› (ì²˜ìŒ ë§ˆì‹œê¸° í¸í•œ)', icon: 'ğŸ•Šï¸' },
                { value: 'moderate', label: 'ì ë‹¹í•œ ê°•ë„ (íŠ¹ì§•ì€ ìˆì§€ë§Œ ë¶€ë‹´ìŠ¤ëŸ½ì§€ ì•Šì€)', icon: 'âš–ï¸' },
                { value: 'bold', label: 'ì§„í•˜ê³  ê°•í•œ ë§› (ê°œì„±ì´ ëšœë ·í•œ)', icon: 'âš¡' },
                { value: 'complex', label: 'ë³µí•©ì ì´ê³  ê¹Šì€ ë§› (ë‹¤ì¸µì ì¸ í’ë¯¸)', icon: 'ğŸŒŠ' }
              ]
            },
            {
              id: 'sweetness_preference',
              title: 'ë‹¨ë§›ì— ëŒ€í•œ ì„ í˜¸ë„ëŠ”?',
              type: 'single',
              options: [
                { value: 'very_sweet', label: 'ë‹¬ì½¤í•œ ë§›ì„ ì •ë§ ì¢‹ì•„í•´ìš” (ê¿€, ìºëŸ¬ë©œ, ë°”ë‹ë¼)', icon: 'ğŸ¯' },
                { value: 'moderate_sweet', label: 'ì ë‹¹í•œ ë‹¨ë§›ì´ ì¢‹ì•„ìš” (ê³¼ì¼, ì´ˆì½œë¦¿)', icon: 'ğŸ«' },
                { value: 'dry_sweet', label: 'ì€ì€í•œ ë‹¨ë§› ì •ë„ (ê±´ê³¼ì¼, ê²¬ê³¼ë¥˜)', icon: 'ğŸ¥œ' },
                { value: 'no_sweet', label: 'ë‹¨ë§›ë³´ë‹¤ëŠ” ë“œë¼ì´í•œ ë§›ì„ ì„ í˜¸í•´ìš”', icon: 'ğŸŒ¿' }
              ]
            },
            {
              id: 'fruit_preference',
              title: 'ê³¼ì¼í–¥ ì¤‘ì—ì„œëŠ” ì–´ë–¤ ê³„ì—´ì„ ì„ í˜¸í•˜ì‹œë‚˜ìš”?',
              type: 'multiple',
              subtitle: 'ê³¼ì¼í–¥ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì„ í˜¸ë„',
              options: [
                { value: 'citrus', label: 'ì‹œíŠ¸ëŸ¬ìŠ¤ (ë ˆëª¬, ì˜¤ë Œì§€, ìëª½)', icon: 'ğŸŠ' },
                { value: 'stone_fruit', label: 'í•µê³¼ë¥˜ (ë³µìˆ­ì•„, ì‚´êµ¬, ìë‘)', icon: 'ğŸ‘' },
                { value: 'apple_pear', label: 'ì‚¬ê³¼/ë°° (ì‹ ì„ í•˜ê³  ì•„ì‚­í•œ)', icon: 'ğŸ' },
                { value: 'berry', label: 'ë² ë¦¬ë¥˜ (ë”¸ê¸°, ë¸”ë£¨ë² ë¦¬, ë¼ì¦ˆë² ë¦¬)', icon: 'ğŸ«' },
                { value: 'tropical', label: 'ì—´ëŒ€ê³¼ì¼ (íŒŒì¸ì• í”Œ, ë§ê³ , ë°”ë‚˜ë‚˜)', icon: 'ğŸ' },
                { value: 'dried_fruit', label: 'ê±´ê³¼ì¼ (ê±´í¬ë„, ë¬´í™”ê³¼, ëŒ€ì¶”)', icon: 'ğŸ¥­' },
                { value: 'no_fruit', label: 'ê³¼ì¼í–¥ì€ ë³„ë¡œ ì„ í˜¸í•˜ì§€ ì•Šì•„ìš”', icon: 'âŒ' }
              ]
            },
            {
              id: 'smoke_preference',
              title: 'ìŠ¤ëª¨í‚¤í•œ ë§›(í”¼íŠ¸í–¥)ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì„¸ìš”?',
              type: 'single',
              subtitle: 'ì•„ì¼ë ˆì´ ìœ„ìŠ¤í‚¤ì˜ íŠ¹ì§•ì¸ ì—°ê¸°/í™ë‚´ìŒ',
              options: [
                { value: 'avoid', label: 'í”¼í•˜ê³  ì‹¶ì–´ìš” (ì—°ê¸° ëƒ„ìƒˆëŠ” ë¶€ë‹´ìŠ¤ëŸ¬ì›Œìš”)', icon: 'ğŸš«' },
                { value: 'curious', label: 'ê¶ê¸ˆí•´ìš” (í•œ ë²ˆ ë„ì „í•´ë³´ê³  ì‹¶ì–´ìš”)', icon: 'ğŸ¤¨' },
                { value: 'light_smoke', label: 'ê°€ë²¼ìš´ ìŠ¤ëª¨í‚¤ëŠ” ê´œì°®ì•„ìš”', icon: 'ğŸ’¨' },
                { value: 'like', label: 'ìŠ¤ëª¨í‚¤í•œ ë§›ì„ ì¢‹ì•„í•´ìš”', icon: 'ğŸ˜' },
                { value: 'love_peat', label: 'ì§„í•œ í”¼íŠ¸í–¥ì„ ë§¤ìš° ì¢‹ì•„í•´ìš”', icon: 'ğŸ”¥' }
              ]
            },
            {
              id: 'alcohol_tolerance',
              title: 'ì•Œì½”ì˜¬ ë„ìˆ˜ì— ëŒ€í•œ ì„ í˜¸ë„ëŠ”?',
              type: 'single',
              options: [
                { value: 'low', label: 'ë¶€ë“œëŸ½ê³  ë‚®ì€ ë„ìˆ˜ë¥¼ ì„ í˜¸ (40ë„ ì´í•˜)', icon: 'ğŸ˜Œ' },
                { value: 'medium', label: 'ì ë‹¹í•œ ë„ìˆ˜ê°€ ì¢‹ì•„ìš” (40-43ë„)', icon: 'ğŸ‘Œ' },
                { value: 'high', label: 'ì§„í•œ ë§›ì„ ì›í•´ìš” (43ë„ ì´ìƒ)', icon: 'ğŸ’ª' },
                { value: 'cask_strength', label: 'ì›ì•¡ ê·¸ëŒ€ë¡œì˜ ê°•í•œ ë§›ë„ ê´œì°®ì•„ìš”', icon: 'ğŸ”¥' }
              ]
            },
            {
              id: 'drinking_style',
              title: 'ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë§ˆì‹œê³  ì‹¶ìœ¼ì‹ ê°€ìš”?',
              type: 'multiple',
              options: [
                { value: 'neat', label: 'ìŠ¤íŠ¸ë ˆì´íŠ¸ (ê·¸ëŒ€ë¡œ)', icon: 'ğŸ¥ƒ' },
                { value: 'rocks', label: 'ì˜¨ë”ë½ (ì–¼ìŒê³¼ í•¨ê»˜)', icon: 'ğŸ§Š' },
                { value: 'highball', label: 'í•˜ì´ë³¼ (íƒ„ì‚°ìˆ˜ì™€ í•¨ê»˜)', icon: 'ğŸ¥¤' },
                { value: 'cocktail', label: 'ì¹µí…Œì¼ ë² ì´ìŠ¤ë¡œ', icon: 'ğŸ¸' },
                { value: 'water', label: 'ë¬¼ì„ ì¡°ê¸ˆ ë„£ì–´ì„œ', icon: 'ğŸ’§' }
              ]
            },
            {
              id: 'atmosphere',
              title: 'ì–´ë–¤ ë¶„ìœ„ê¸°ì—ì„œ ë§ˆì‹œê³  ì‹¶ìœ¼ì‹ ê°€ìš”?',
              type: 'single',
              options: [
                { value: 'casual', label: 'ì§‘ì—ì„œ í¸ì•ˆí•˜ê²Œ', icon: 'ğŸ ' },
                { value: 'social', label: 'ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜', icon: 'ğŸ‘¥' },
                { value: 'special', label: 'íŠ¹ë³„í•œ ë‚ ì—', icon: 'ğŸ‰' },
                { value: 'contemplative', label: 'í˜¼ìì„œ ì—¬ìœ ë¡­ê²Œ', icon: 'ğŸ¤”' }
              ]
            },
            {
              id: 'budget',
              title: 'ì˜ˆì‚°ëŒ€ëŠ” ì–´ëŠ ì •ë„ì¸ê°€ìš”?',
              type: 'single',
              options: [
                { value: 'budget', label: '5ë§Œì› ì´í•˜ (ì…ë¬¸ìš©)', icon: 'ğŸ’°' },
                { value: 'mid', label: '5-10ë§Œì› (ì¤‘ê¸‰)', icon: 'ğŸ’³' },
                { value: 'premium', label: '10-20ë§Œì› (í”„ë¦¬ë¯¸ì—„)', icon: 'ğŸ’' },
                { value: 'luxury', label: '20ë§Œì› ì´ìƒ (ëŸ­ì…”ë¦¬)', icon: 'ğŸ‘‘' }
              ]
            }
          ];

          // ìœ„ìŠ¤í‚¤ ë°ì´í„°ë² ì´ìŠ¤
          const whiskies = [
            {
              name: 'ê¸€ë Œí”¼ë”• 12ë…„',
              region: 'ìŠ¤ì½”í‹€ëœë“œ (ìŠ¤í˜ì´ì‚¬ì´ë“œ)',
              type: 'scotch_single',
              abv: 40,
              price: 'ì…ë¬¸ìš© (5ë§Œì›ëŒ€)',
              intensity: 'mild',
              sweetness: 'moderate_sweet',
              fruits: ['apple_pear', 'citrus'],
              smoke: 'avoid',
              drinking_styles: ['neat', 'rocks', 'water'],
              description: 'ë¶€ë“œëŸ½ê³  ë‹¬ì½¤í•œ ê³¼ì¼í–¥ì´ íŠ¹ì§•ì¸ ì´ˆë³´ì ì¹œí™”ì ì¸ ìœ„ìŠ¤í‚¤',
              notes: 'ë°°, ì‚¬ê³¼, ê¿€, ë°”ë‹ë¼ì˜ ì¡°í™”ë¡œìš´ ë§›',
              suitable_for: ['beginner', 'casual'],
              atmosphere: ['casual', 'social']
            },
            {
              name: 'ë§¥ì¼ˆë€ 12ë…„',
              region: 'ìŠ¤ì½”í‹€ëœë“œ (ìŠ¤í˜ì´ì‚¬ì´ë“œ)',
              type: 'scotch_single',
              abv: 40,
              price: 'ì¤‘ê¸‰ (8ë§Œì›ëŒ€)',
              intensity: 'moderate',
              sweetness: 'very_sweet',
              fruits: ['dried_fruit', 'citrus'],
              smoke: 'avoid',
              drinking_styles: ['neat', 'rocks'],
              description: 'ì…°ë¦¬ ìºìŠ¤í¬ ìˆ™ì„±ìœ¼ë¡œ í’ë¶€í•œ ë‹¨ë§›ê³¼ ê²¬ê³¼ë¥˜ í–¥ì´ íŠ¹ì§•',
              notes: 'ê±´í¬ë„, ì´ˆì½œë¦¿, ìƒê°•, ì˜¤ë Œì§€ê»ì§ˆ',
              suitable_for: ['casual', 'interested', 'experienced'],
              atmosphere: ['special', 'contemplative']
            },
            {
              name: 'ë¼ê°€ë¶ˆë¦° 16ë…„',
              region: 'ìŠ¤ì½”í‹€ëœë“œ (ì•„ì¼ë ˆì´)',
              type: 'scotch_single',
              abv: 43,
              price: 'í”„ë¦¬ë¯¸ì—„ (15ë§Œì›ëŒ€)',
              intensity: 'complex',
              sweetness: 'dry_sweet',
              fruits: ['dried_fruit'],
              smoke: 'love_peat',
              drinking_styles: ['neat', 'rocks', 'water'],
              description: 'ê°•ë ¬í•œ í”¼íŠ¸í–¥ê³¼ ë³µí•©ì ì¸ ë§›ì˜ ê· í˜•ì´ ë›°ì–´ë‚œ ì•„ì¼ë ˆì´ ìœ„ìŠ¤í‚¤',
              notes: 'ë°”ë‹¤í–¥, ì—°ê¸°, ë§ë¦° ê³¼ì¼, í›„ì¶”',
              suitable_for: ['interested', 'experienced'],
              atmosphere: ['contemplative', 'special']
            },
            {
              name: 'ì¡°ë‹ˆì›Œì»¤ ë¸”ë™ë¼ë²¨',
              region: 'ìŠ¤ì½”í‹€ëœë“œ',
              type: 'scotch_blend',
              abv: 40,
              price: 'ì¤‘ê¸‰ (7ë§Œì›ëŒ€)',
              intensity: 'moderate',
              sweetness: 'moderate_sweet',
              fruits: ['stone_fruit', 'citrus'],
              smoke: 'light_smoke',
              drinking_styles: ['neat', 'rocks', 'highball', 'cocktail'],
              description: 'ê· í˜•ì¡íŒ ë¸”ë Œë”©ìœ¼ë¡œ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ìœ„ìŠ¤í‚¤',
              notes: 'ê³¼ì¼, ë°”ë‹ë¼, ìŠ¤íŒŒì´ìŠ¤, ê°€ë²¼ìš´ ìŠ¤ëª¨í‚¤',
              suitable_for: ['casual', 'interested'],
              atmosphere: ['casual', 'social', 'special']
            },
            {
              name: 'íˆë¹„í‚¤ í•˜ëª¨ë‹ˆ',
              region: 'ì¼ë³¸',
              type: 'japanese',
              abv: 43,
              price: 'í”„ë¦¬ë¯¸ì—„ (12ë§Œì›ëŒ€)',
              intensity: 'moderate',
              sweetness: 'moderate_sweet',
              fruits: ['citrus', 'stone_fruit'],
              smoke: 'avoid',
              drinking_styles: ['neat', 'rocks', 'highball'],
              description: 'ì„¬ì„¸í•˜ê³  ìš°ì•„í•œ ì¼ë³¸ ìœ„ìŠ¤í‚¤ì˜ ëŒ€í‘œì‘',
              notes: 'ê½ƒí–¥, ê¿€, ì˜¤ë Œì§€, ë°±ë‹¨í–¥',
              suitable_for: ['interested', 'experienced'],
              atmosphere: ['special', 'contemplative']
            },
            {
              name: 'ì—ë°˜ ìœŒë¦¬ì—„ìŠ¤ ë¸”ë™',
              region: 'ë¯¸êµ­ (ì¼„í„°í‚¤)',
              type: 'american_bourbon',
              abv: 43,
              price: 'ì…ë¬¸ìš© (4ë§Œì›ëŒ€)',
              intensity: 'moderate',
              sweetness: 'very_sweet',
              fruits: ['no_fruit'],
              smoke: 'avoid',
              drinking_styles: ['neat', 'rocks', 'cocktail'],
              description: 'ì†”ì§í•˜ê³  ì „í˜•ì ì¸ ë²„ë²ˆì˜ íŠ¹ì„±ì„ ê°€ì§„ ê°€ì„±ë¹„ ìœ„ìŠ¤í‚¤',
              notes: 'ë°”ë‹ë¼, ìºëŸ¬ë©œ, ë¸Œë¼ìš´ìŠˆê°€, ì˜¤í¬',
              suitable_for: ['beginner', 'casual', 'interested'],
              atmosphere: ['casual', 'social']
            }
          ];

          const handleAnswer = (questionId, value) => {
            const question = questions[currentStep];
            if (question.type === 'multiple') {
              const currentAnswers = answers[questionId] || [];
              const newAnswers = currentAnswers.includes(value)
                ? currentAnswers.filter(v => v !== value)
                : [...currentAnswers, value];
              setAnswers({ ...answers, [questionId]: newAnswers });
            } else {
              setAnswers({ ...answers, [questionId]: value });
            }
          };

          const nextStep = () => {
            if (currentStep < questions.length - 1) {
              setCurrentStep(currentStep + 1);
            } else {
              calculateRecommendation();
            }
          };

          const prevStep = () => {
            if (currentStep > 0) {
              setCurrentStep(currentStep - 1);
            }
          };

          const calculateRecommendation = () => {
            let scores = whiskies.map(whisky => ({ ...whisky, score: 0 }));

            // ê²½í—˜ë„ ì ìˆ˜
            if (answers.experience) {
              scores.forEach(whisky => {
                if (whisky.suitable_for.includes(answers.experience)) {
                  whisky.score += 25;
                }
              });
            }

            // ìœ„ìŠ¤í‚¤ íƒ€ì… ì„ í˜¸ë„ ì ìˆ˜
            if (answers.whisky_type_preference) {
              scores.forEach(whisky => {
                if (answers.whisky_type_preference.includes('any') || 
                    answers.whisky_type_preference.includes(whisky.type)) {
                  whisky.score += 20;
                }
              });
            }

            // ë§› ê°•ë„ ì„ í˜¸ë„ ì ìˆ˜
            if (answers.flavor_intensity) {
              scores.forEach(whisky => {
                if (whisky.intensity === answers.flavor_intensity) {
                  whisky.score += 20;
                }
              });
            }

            // ë‹¨ë§› ì„ í˜¸ë„ ì ìˆ˜
            if (answers.sweetness_preference) {
              scores.forEach(whisky => {
                if (whisky.sweetness === answers.sweetness_preference) {
                  whisky.score += 20;
                }
              });
            }

            // ê³¼ì¼í–¥ ì„ í˜¸ë„ ì ìˆ˜
            if (answers.fruit_preference) {
              scores.forEach(whisky => {
                if (answers.fruit_preference.includes('no_fruit')) {
                  if (whisky.fruits.includes('no_fruit')) {
                    whisky.score += 15;
                  }
                } else {
                  const matchingFruits = whisky.fruits.filter(fruit => 
                    answers.fruit_preference.includes(fruit)
                  ).length;
                  whisky.score += matchingFruits * 10;
                }
              });
            }

            // ìŠ¤ëª¨í‚¤ ì„ í˜¸ë„ ì ìˆ˜
            if (answers.smoke_preference) {
              scores.forEach(whisky => {
                if (whisky.smoke === answers.smoke_preference) {
                  whisky.score += 25;
                }
                if (answers.smoke_preference === 'curious' && whisky.smoke === 'light_smoke') {
                  whisky.score += 15;
                }
              });
            }

            // ë„ìˆ˜ ì„ í˜¸ë„ ì ìˆ˜
            if (answers.alcohol_tolerance) {
              scores.forEach(whisky => {
                if (answers.alcohol_tolerance === 'low' && whisky.abv <= 40) whisky.score += 15;
                if (answers.alcohol_tolerance === 'medium' && whisky.abv >= 40 && whisky.abv <= 43) whisky.score += 15;
                if (answers.alcohol_tolerance === 'high' && whisky.abv > 43) whisky.score += 15;
              });
            }

            // ë§ˆì‹œëŠ” ë°©ì‹ ì ìˆ˜
            if (answers.drinking_style) {
              scores.forEach(whisky => {
                const matchingStyles = whisky.drinking_styles.filter(style => 
                  answers.drinking_style.includes(style)
                ).length;
                whisky.score += matchingStyles * 10;
              });
            }

            // ë¶„ìœ„ê¸° ì ìˆ˜
            if (answers.atmosphere) {
              scores.forEach(whisky => {
                if (whisky.atmosphere.includes(answers.atmosphere)) {
                  whisky.score += 15;
                }
              });
            }

            // ì˜ˆì‚° ì ìˆ˜
            if (answers.budget) {
              scores.forEach(whisky => {
                if (answers.budget === 'budget' && whisky.price.includes('ì…ë¬¸ìš©')) whisky.score += 20;
                if (answers.budget === 'mid' && (whisky.price.includes('ì¤‘ê¸‰') || whisky.price.includes('ì…ë¬¸ìš©'))) whisky.score += 20;
                if (answers.budget === 'premium' && whisky.price.includes('í”„ë¦¬ë¯¸ì—„')) whisky.score += 20;
              });
            }

            // ì ìˆ˜ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ìƒìœ„ 3ê°œ ì¶”ì²œ
            const recommendations = scores
              .sort((a, b) => b.score - a.score)
              .slice(0, 3);

            // ë§¤ì¹­ë„ ê³„ì‚°
            if (recommendations.length > 0) {
              const maxPossibleScore = 180;
              recommendations.forEach(whisky => {
                const rawPercentage = (whisky.score / maxPossibleScore) * 100;
                whisky.matchPercentage = Math.min(98, Math.max(65, Math.round(rawPercentage)));
              });
            }

            setResult(recommendations);
            setCurrentScreen('result');
          };

          const shareResult = () => {
            const topWhisky = result[0];
            const shareText = `ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸° ê²°ê³¼!\n\nì¶”ì²œ ìœ„ìŠ¤í‚¤: ${topWhisky.name}\në§¤ì¹­ë„: ${topWhisky.matchPercentage}%\n\n${topWhisky.description}\n\në‹¹ì‹ ì˜ ì·¨í–¥ì€? í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!`;
            const shareUrl = window.location.href;

            if (navigator.share) {
              navigator.share({
                title: 'ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸° ê²°ê³¼',
                text: shareText,
                url: shareUrl
              }).catch(console.error);
            } else {
              const fullText = `${shareText}\n\n${shareUrl}`;
              navigator.clipboard.writeText(fullText).then(() => {
                alert('ğŸ‰ ê³µìœ  í…ìŠ¤íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nSNSì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
              }).catch(() => {
                const textArea = document.createElement('textarea');
                textArea.value = fullText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('ğŸ‰ ê³µìœ  í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nSNSì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
              });
            }
          };

          const generateResultImage = () => {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // ìº”ë²„ìŠ¤ í¬ê¸° ì„¤ì • (ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ ë¹„ìœ¨: 9:16)
            canvas.width = 1080;
            canvas.height = 1920;
            
            const topWhisky = result[0];
            
            // ë°°ê²½ ê·¸ë¼ë°ì´ì…˜
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#FEF3C7'); // amber-100
            gradient.addColorStop(1, '#FED7AA'); // orange-200
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ë©”ì¸ ë°°ê²½ ì¹´ë“œ
            ctx.fillStyle = '#FFFFFF';
            ctx.roundRect = function(x, y, w, h, r) {
              this.beginPath();
              this.moveTo(x + r, y);
              this.lineTo(x + w - r, y);
              this.quadraticCurveTo(x + w, y, x + w, y + r);
              this.lineTo(x + w, y + h - r);
              this.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
              this.lineTo(x + r, y + h);
              this.quadraticCurveTo(x, y + h, x, y + h - r);
              this.lineTo(x, y + r);
              this.quadraticCurveTo(x, y, x + r, y);
              this.closePath();
            };
            
            ctx.roundRect(80, 200, 920, 1500, 40);
            ctx.fill();
            
            // ê·¸ë¦¼ì íš¨ê³¼
            ctx.shadowColor = 'rgba(0, 0, 0, 0.1)';
            ctx.shadowBlur = 20;
            ctx.shadowOffsetY = 10;
            
            // í…ìŠ¤íŠ¸ ì„¤ì •
            ctx.shadowColor = 'transparent';
            ctx.fillStyle = '#92400E'; // amber-800
            ctx.textAlign = 'center';
            
            // ì œëª©
            ctx.font = 'bold 80px Arial';
            ctx.fillText('ğŸ¥ƒ', 540, 350);
            
            ctx.font = 'bold 64px Arial';
            ctx.fillText('ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°', 540, 450);
            
            // ê²°ê³¼ ì œëª©
            ctx.font = 'bold 48px Arial';
            ctx.fillStyle = '#D97706'; // amber-600
            ctx.fillText('ì¶”ì²œ ê²°ê³¼', 540, 580);
            
            // 1ìœ„ ë±ƒì§€
            ctx.fillStyle = '#F59E0B'; // amber-500
            ctx.beginPath();
            ctx.arc(200, 720, 40, 0, 2 * Math.PI);
            ctx.fill();
            
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'bold 36px Arial';
            ctx.fillText('1', 200, 735);
            
            // ìœ„ìŠ¤í‚¤ ì´ë¦„
            ctx.fillStyle = '#92400E'; // amber-800
            ctx.font = 'bold 56px Arial';
            ctx.textAlign = 'left';
            const whiskyName = topWhisky.name;
            ctx.fillText(whiskyName, 280, 735);
            
            // ë§¤ì¹­ë„
            ctx.fillStyle = '#F59E0B'; // amber-500
            ctx.font = 'bold 42px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`ë§¤ì¹­ë„: ${topWhisky.matchPercentage}%`, 540, 820);
            
            // ë³„ì  í‘œì‹œ
            const starCount = Math.round((topWhisky.matchPercentage / 100) * 5);
            let starText = '';
            for (let i = 0; i < starCount; i++) {
              starText += 'â­';
            }
            ctx.font = '48px Arial';
            ctx.fillText(starText, 540, 900);
            
            // ì§€ì—­ ì •ë³´
            ctx.fillStyle = '#6B7280'; // gray-500
            ctx.font = '36px Arial';
            ctx.fillText(`ğŸ“ ${topWhisky.region}`, 540, 980);
            
            // ë„ìˆ˜ ì •ë³´
            ctx.fillText(`âš¡ ë„ìˆ˜: ${topWhisky.abv}%`, 540, 1040);
            
            // ê°€ê²© ì •ë³´
            ctx.fillText(`ğŸ’° ${topWhisky.price}`, 540, 1100);
            
            // ì„¤ëª…
            ctx.fillStyle = '#374151'; // gray-700
            ctx.font = '32px Arial';
            ctx.textAlign = 'center';
            
            // í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ì²˜ë¦¬
            const description = topWhisky.description;
            const maxWidth = 800;
            const words = description.split(' ');
            let line = '';
            let y = 1200;
            
            for (let n = 0; n < words.length; n++) {
              const testLine = line + words[n] + ' ';
              const metrics = ctx.measureText(testLine);
              const testWidth = metrics.width;
              
              if (testWidth > maxWidth && n > 0) {
                ctx.fillText(line, 540, y);
                line = words[n] + ' ';
                y += 50;
              } else {
                line = testLine;
              }
            }
            ctx.fillText(line, 540, y);
            
            // í…Œì´ìŠ¤íŒ… ë…¸íŠ¸
            ctx.fillStyle = '#D97706'; // amber-600
            ctx.font = 'bold 36px Arial';
            ctx.fillText('í…Œì´ìŠ¤íŒ… ë…¸íŠ¸', 540, y + 120);
            
            ctx.fillStyle = '#6B7280'; // gray-500
            ctx.font = '30px Arial';
            const notes = topWhisky.notes;
            const noteWords = notes.split(' ');
            let noteLine = '';
            let noteY = y + 180;
            
            for (let n = 0; n < noteWords.length; n++) {
              const testLine = noteLine + noteWords[n] + ' ';
              const metrics = ctx.measureText(testLine);
              const testWidth = metrics.width;
              
              if (testWidth > maxWidth && n > 0) {
                ctx.fillText(noteLine, 540, noteY);
                noteLine = noteWords[n] + ' ';
                noteY += 45;
              } else {
                noteLine = testLine;
              }
            }
            ctx.fillText(noteLine, 540, noteY);
            
            // í•˜ë‹¨ CTA
            ctx.fillStyle = '#F59E0B'; // amber-500
            ctx.font = 'bold 42px Arial';
            ctx.fillText('ë‹¹ì‹ ì˜ ì·¨í–¥ì€?', 540, 1550);
            
            ctx.fillStyle = '#92400E'; // amber-800
            ctx.font = 'bold 38px Arial';
            ctx.fillText('ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸° í…ŒìŠ¤íŠ¸', 540, 1610);
            
            // URLì— ì´ë¯¸ì§€ì™€ ë§í¬ ì •ë³´ ì¶”ê°€
            ctx.fillStyle = '#6B7280'; // gray-500
            ctx.font = '28px Arial';
            ctx.fillText('whisky-recommendation.vercel.app', 540, 1670);
            
            // QR ì½”ë“œë‚˜ ë§í¬ ìœ ë„ ë¬¸êµ¬
            ctx.fillStyle = '#F59E0B'; // amber-500
            ctx.font = 'bold 32px Arial';
            ctx.fillText('ğŸ”— ë§í¬ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!', 540, 1720);
            
            return canvas;
          };

          const downloadResultImage = () => {
            try {
              const canvas = generateResultImage();
              
              // ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
              canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.download = `ìœ„ìŠ¤í‚¤ì¶”ì²œê²°ê³¼_${result[0].name.replace(/\s+/g, '_')}.png`;
                link.href = url;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
                
                // ë‹¤ìš´ë¡œë“œ ì™„ë£Œ ì•Œë¦¼
                alert('ğŸ“¸ ì´ë¯¸ì§€ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!\nê°¤ëŸ¬ë¦¬ì—ì„œ í™•ì¸ í›„ ì¸ìŠ¤íƒ€ê·¸ë¨ì— ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
              }, 'image/png');
            } catch (error) {
              console.error('ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨:', error);
              alert('âŒ ì´ë¯¸ì§€ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
            }
          };

          const shareToInstagram = async () => {
            try {
              const topWhisky = result[0];
              const shareUrl = window.location.href;
              const shareText = `ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°!\n\nì¶”ì²œ: ${topWhisky.name}\në§¤ì¹­ë„: ${topWhisky.matchPercentage}%`;
              
              // Web Share APIê°€ ì§€ì›ë˜ëŠ” ê²½ìš° (ì£¼ë¡œ ëª¨ë°”ì¼)
              if (navigator.share && navigator.canShare) {
                const canvas = generateResultImage();
                
                // Canvasë¥¼ Blobìœ¼ë¡œ ë³€í™˜
                canvas.toBlob(async (blob) => {
                  const file = new File([blob], `ìœ„ìŠ¤í‚¤ì¶”ì²œ_${topWhisky.name}.png`, { type: 'image/png' });
                  
                  const shareData = {
                    title: 'ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸° ê²°ê³¼',
                    text: shareText,
                    url: shareUrl,
                    files: [file]
                  };
                  
                  // Web Share APIë¡œ íŒŒì¼ ê³µìœ  ê°€ëŠ¥í•œì§€ í™•ì¸
                  if (navigator.canShare(shareData)) {
                    try {
                      await navigator.share(shareData);
                      console.log('ì¸ìŠ¤íƒ€ê·¸ë¨ ê³µìœ  ì„±ê³µ');
                    } catch (error) {
                      console.log('ì‚¬ìš©ìê°€ ê³µìœ ë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.');
                      // ì·¨ì†Œí•œ ê²½ìš° ê¸°ë³¸ ë‹¤ìš´ë¡œë“œ ë°©ì‹ìœ¼ë¡œ fallback
                      fallbackInstagramShare();
                    }
                  } else {
                    // íŒŒì¼ ê³µìœ ê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” ê²½ìš°
                    fallbackInstagramShare();
                  }
                }, 'image/png');
              } else {
                // Web Share APIê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” ê²½ìš°
                fallbackInstagramShare();
              }
            } catch (error) {
              console.error('ì¸ìŠ¤íƒ€ê·¸ë¨ ê³µìœ  ì˜¤ë¥˜:', error);
              fallbackInstagramShare();
            }
          };

          const fallbackInstagramShare = () => {
            // ê¸°ì¡´ ë°©ì‹: ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ í›„ ìˆ˜ë™ ì—…ë¡œë“œ
            const canvas = generateResultImage();
            const topWhisky = result[0];
            
            canvas.toBlob((blob) => {
              // ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
              const url = URL.createObjectURL(blob);
              const link = document.createElement('a');
              link.download = `ìœ„ìŠ¤í‚¤ì¶”ì²œ_${topWhisky.name.replace(/\s+/g, '_')}.png`;
              link.href = url;
              document.body.appendChild(link);
              link.click();
              document.body.removeChild(link);
              URL.revokeObjectURL(url);
              
              // ì¸ìŠ¤íƒ€ê·¸ë¨ ì•±/ì›¹ ì—´ê¸°
              setTimeout(() => {
                if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                  // ëª¨ë°”ì¼: ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ ì§ì ‘ ì—´ê¸°
                  const instagramStoryUrl = 'instagram://story-camera';
                  window.location.href = instagramStoryUrl;
                  
                  setTimeout(() => {
                    // ì•±ì´ ì„¤ì¹˜ë˜ì§€ ì•Šì€ ê²½ìš° ì›¹ìœ¼ë¡œ
                    window.open('https://www.instagram.com/stories/create/', '_blank');
                  }, 2000);
                } else {
                  // PC: ì¸ìŠ¤íƒ€ê·¸ë¨ ì›¹ì˜ ìŠ¤í† ë¦¬ ìƒì„± í˜ì´ì§€
                  window.open('https://www.instagram.com/stories/create/', '_blank');
                }
                
                alert('ğŸ“¸ ì´ë¯¸ì§€ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!\nì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ì—ì„œ ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒí•˜ì—¬ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
              }, 500);
            }, 'image/png');
          };

          // ìƒˆë¡œìš´ ê³ ê¸‰ ì¸ìŠ¤íƒ€ê·¸ë¨ ê³µìœ  í•¨ìˆ˜ (URL Scheme í™œìš©)
          const shareToInstagramAdvanced = () => {
            const topWhisky = result[0];
            const shareUrl = encodeURIComponent(window.location.href);
            const shareText = encodeURIComponent(`ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°!\n\nì¶”ì²œ: ${topWhisky.name}\në§¤ì¹­ë„: ${topWhisky.matchPercentage}%\n\ní…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!`);
            
            if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
              // ëª¨ë°”ì¼ì—ì„œ ì´ë¯¸ì§€ë¥¼ Base64ë¡œ ë³€í™˜í•˜ì—¬ ì „ë‹¬
              const canvas = generateResultImage();
              canvas.toBlob((blob) => {
                const reader = new FileReader();
                reader.onload = function() {
                  const base64Data = reader.result.split(',')[1];
                  
                  // Instagram Stories URL Scheme (iOS/Android)
                  const instagramUrl = `instagram://story-camera?media=${encodeURIComponent(base64Data)}&text=${shareText}&url=${shareUrl}`;
                  
                  try {
                    window.location.href = instagramUrl;
                    
                    // 3ì´ˆ í›„ ì•±ì´ ì—´ë¦¬ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ë°©ì‹ìœ¼ë¡œ
                    setTimeout(() => {
                      fallbackInstagramShare();
                    }, 3000);
                  } catch (error) {
                    fallbackInstagramShare();
                  }
                };
                reader.readAsDataURL(blob);
              }, 'image/png');
            } else {
              // PCì—ì„œëŠ” ê¸°ë³¸ ë°©ì‹ ì‚¬ìš©
              fallbackInstagramShare();
            }
          };

          const shareToKakao = () => {
            const topWhisky = result[0];
            const shareText = `ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°!\n\në‚´ ì¶”ì²œ: ${topWhisky.name}\në§¤ì¹­ë„: ${topWhisky.matchPercentage}%\n\n${topWhisky.description}\n\në‹¹ì‹ ë„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”: ${window.location.href}`;
            
            if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
              // ëª¨ë°”ì¼: í…ìŠ¤íŠ¸ ë³µì‚¬ í›„ ì¹´ì¹´ì˜¤í†¡ ì•± ì—´ê¸°
              navigator.clipboard.writeText(shareText).then(() => {
                // ì¹´ì¹´ì˜¤í†¡ ì•± ì—´ê¸°
                const kakaoUrl = 'kakaotalk://';
                const fallbackUrl = 'https://web.kakao.com/';
                
                window.location.href = kakaoUrl;
                
                // 3ì´ˆ í›„ì—ë„ í˜ì´ì§€ê°€ ê·¸ëŒ€ë¡œë©´ ì›¹ìœ¼ë¡œ
                setTimeout(() => {
                  window.open(fallbackUrl, '_blank');
                }, 3000);
                
                alert('ğŸ’¬ í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nì¹´ì¹´ì˜¤í†¡ì—ì„œ ì¹œêµ¬ì—ê²Œ ë³´ë‚´ì£¼ì„¸ìš”.');
              }).catch(() => {
                // í´ë¦½ë³´ë“œ ì‹¤íŒ¨ì‹œ ìˆ˜ë™ ë³µì‚¬
                const textArea = document.createElement('textarea');
                textArea.value = shareText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                window.location.href = 'kakaotalk://';
                alert('ğŸ’¬ í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nì¹´ì¹´ì˜¤í†¡ì—ì„œ ì¹œêµ¬ì—ê²Œ ë³´ë‚´ì£¼ì„¸ìš”.');
              });
            } else {
              // PC: í…ìŠ¤íŠ¸ ë³µì‚¬ í›„ ì¹´ì¹´ì˜¤í†¡ ì›¹ ì—´ê¸°
              navigator.clipboard.writeText(shareText).then(() => {
                window.open('https://web.kakao.com/', '_blank');
                alert('ğŸ’¬ í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nì¹´ì¹´ì˜¤í†¡ì—ì„œ ì¹œêµ¬ì—ê²Œ ë³´ë‚´ì£¼ì„¸ìš”.');
              }).catch(() => {
                window.open('https://web.kakao.com/', '_blank');
                alert('ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ì›¹ì—ì„œ ì¹œêµ¬ì—ê²Œ ê²°ê³¼ë¥¼ ê³µìœ í•´ì£¼ì„¸ìš”!');
              });
            }
          };

          // ëœë”© í˜ì´ì§€
          if (currentScreen === 'landing') {
            return (
              <div className="max-w-2xl mx-auto p-4 bg-gradient-to-br from-amber-50 to-orange-50 min-h-screen flex items-center">
                <div className="bg-white rounded-2xl shadow-2xl p-6 w-full">
                  <div className="text-center mb-8">
                    <div className="text-5xl mb-3">ğŸ¥ƒ</div>
                    <h1 className="text-3xl font-bold text-amber-800 mb-3">
                      ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°
                    </h1>
                    <p className="text-gray-600 mb-4">
                      MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ<br/>
                      ì·¨í–¥ì— ë”± ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œí•´ë“œë ¤ìš”
                    </p>
                  </div>

                  <div className="grid grid-cols-3 gap-3 mb-8">
                    <div className="text-center p-3 bg-amber-50 rounded-lg">
                      <div className="text-2xl mb-1">ğŸ¯</div>
                      <p className="text-xs font-medium text-amber-800">ì •í™•í•œ<br/>ì¶”ì²œ</p>
                    </div>
                    <div className="text-center p-3 bg-orange-50 rounded-lg">
                      <div className="text-2xl mb-1">âš¡</div>
                      <p className="text-xs font-medium text-orange-800">3ë¶„<br/>ì™„ë£Œ</p>
                    </div>
                    <div className="text-center p-3 bg-yellow-50 rounded-lg">
                      <div className="text-2xl mb-1">ğŸ†</div>
                      <p className="text-xs font-medium text-yellow-800">ì „ë¬¸<br/>íë ˆì´ì…˜</p>
                    </div>
                  </div>

                  <div className="mb-8 p-4 bg-gradient-to-r from-amber-100 to-orange-100 rounded-xl">
                    <h3 className="text-center font-bold text-amber-800 mb-3">
                      ğŸ“Š ì´ëŸ° ì‹ìœ¼ë¡œ ì¶”ì²œí•´ìš”!
                    </h3>
                    <div className="bg-white p-3 rounded-lg">
                      <div className="flex items-center gap-2 mb-2">
                        <div className="bg-amber-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">1</div>
                        <span className="font-bold text-amber-900 text-sm">ê¸€ë Œí”¼ë”• 12ë…„</span>
                        <span className="bg-amber-200 px-2 py-1 rounded-full text-xs text-amber-800 font-medium ml-auto">95%</span>
                      </div>
                      <div className="flex gap-1 mb-2">
                        <span className="bg-green-100 px-2 py-1 rounded-full text-xs text-green-700">âœ¨ ë…¼ìŠ¤ëª¨í‚¤</span>
                        <span className="bg-blue-50 px-2 py-1 rounded-full text-xs text-blue-700">ğŸ ê³¼ì¼í–¥</span>
                      </div>
                      <p className="text-xs text-gray-600">ë¶€ë“œëŸ½ê³  ë‹¬ì½¤í•œ ì´ˆë³´ì ì¹œí™”ì ì¸ ìœ„ìŠ¤í‚¤</p>
                    </div>
                  </div>

                  <div className="text-center">
                    <button
                      onClick={startTest}
                      className="w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-4 rounded-2xl text-lg font-bold hover:from-amber-600 hover:to-orange-600 transition-all duration-300 shadow-lg"
                    >
                      ğŸš€ í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°
                    </button>
                    <p className="text-xs text-gray-500 mt-3">
                      3ë¶„ ì†Œìš” â€¢ ë¬´ë£Œ â€¢ íšŒì›ê°€ì… ë¶ˆí•„ìš”
                    </p>
                  </div>
                </div>
              </div>
            );
          }

          const currentQuestion = questions[currentStep];
          const canProceed = answers[currentQuestion?.id] && 
            (currentQuestion?.type !== 'multiple' || answers[currentQuestion?.id].length > 0);

          if (result) {
            return (
              <div className="max-w-4xl mx-auto p-6 bg-gradient-to-br from-amber-50 to-orange-50 min-h-screen">
                <div className="bg-white rounded-2xl shadow-2xl p-8">
                  <div className="text-center mb-8">
                    <h1 className="text-3xl font-bold text-amber-800 mb-2">ğŸ¥ƒ ë‹¹ì‹ ë§Œì˜ ìœ„ìŠ¤í‚¤ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤!</h1>
                    <p className="text-gray-600">ì·¨í–¥ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ì—„ì„ í•œ ì¶”ì²œ ìœ„ìŠ¤í‚¤ë“¤ì´ì—ìš”</p>
                  </div>

                  <div className="space-y-6">
                    {result.map((whisky, index) => (
                      <div key={index} className="bg-gradient-to-r from-amber-100 to-orange-100 rounded-xl p-6 border-2 border-amber-200">
                        <div className="flex items-start justify-between mb-4">
                          <div className="flex items-center gap-3">
                            <div className="bg-amber-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
                              {index + 1}
                            </div>
                            <h3 className="text-xl font-bold text-amber-900">{whisky.name}</h3>
                            <div className="flex items-center gap-1">
                              <span className="text-sm text-gray-600">ì¶”ì²œë„:</span>
                              <div className="flex text-amber-500">
                                {[...Array(Math.min(5, Math.max(1, Math.round((whisky.matchPercentage / 100) * 5))))].map((_, i) => (
                                  <Star key={i} />
                                ))}
                              </div>
                            </div>
                          </div>
                          <div className="bg-amber-200 px-3 py-1 rounded-full text-sm font-medium text-amber-800">
                            ë§¤ì¹­ë„: {whisky.matchPercentage}%
                          </div>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                          <div className="space-y-2">
                            <div className="flex items-center gap-2 text-sm text-gray-700">
                              <MapPin />
                              <span>{whisky.region}</span>
                            </div>
                            <div className="flex items-center gap-2 text-sm text-gray-700">
                              <Zap />
                              <span>ë„ìˆ˜: {whisky.abv}%</span>
                            </div>
                            <div className="flex items-center gap-2 text-sm text-gray-700">
                              <Grape />
                              <span>{whisky.price}</span>
                            </div>
                          </div>
                          <div className="space-y-2">
                            <div className="flex flex-wrap gap-1">
                              <span className="bg-white px-2 py-1 rounded-full text-xs text-amber-700 border border-amber-300">
                                {whisky.intensity === 'mild' && 'ë¶€ë“œëŸ¬ìš´'}
                                {whisky.intensity === 'moderate' && 'ì ë‹¹í•œ'}
                                {whisky.intensity === 'bold' && 'ì§„í•œ'}
                                {whisky.intensity === 'complex' && 'ë³µí•©ì ì¸'}
                              </span>
                              <span className="bg-white px-2 py-1 rounded-full text-xs text-amber-700 border border-amber-300">
                                {whisky.sweetness === 'very_sweet' && 'ë‹¬ì½¤í•¨'}
                                {whisky.sweetness === 'moderate_sweet' && 'ì ë‹¹í•œ ë‹¨ë§›'}
                                {whisky.sweetness === 'dry_sweet' && 'ì€ì€í•œ ë‹¨ë§›'}
                                {whisky.sweetness === 'no_sweet' && 'ë“œë¼ì´í•¨'}
                              </span>
                              
                              {/* í”¼íŠ¸í–¥/ìŠ¤ëª¨í‚¤ ê°•ë„ */}
                              {whisky.smoke === 'love_peat' && (
                                <span className="bg-red-100 px-2 py-1 rounded-full text-xs text-red-700 border border-red-300 font-medium">ğŸ”¥ ì§„í•œ í”¼íŠ¸í–¥</span>
                              )}
                              {whisky.smoke === 'like' && (
                                <span className="bg-orange-100 px-2 py-1 rounded-full text-xs text-orange-700 border border-orange-300 font-medium">ğŸ’¨ ìŠ¤ëª¨í‚¤</span>
                              )}
                              {whisky.smoke === 'light_smoke' && (
                                <span className="bg-yellow-100 px-2 py-1 rounded-full text-xs text-yellow-700 border border-yellow-300 font-medium">â˜ï¸ ê°€ë²¼ìš´ ìŠ¤ëª¨í‚¤</span>
                              )}
                              {whisky.smoke === 'avoid' && (
                                <span className="bg-green-100 px-2 py-1 rounded-full text-xs text-green-700 border border-green-300 font-medium">âœ¨ ë…¼ìŠ¤ëª¨í‚¤</span>
                              )}
                              
                              {/* ê³¼ì¼í–¥ */}
                              {whisky.fruits.includes('citrus') && (
                                <span className="bg-white px-2 py-1 rounded-full text-xs text-amber-700 border border-amber-300">ğŸŠ ì‹œíŠ¸ëŸ¬ìŠ¤</span>
                              )}
                              {whisky.fruits.includes('stone_fruit') && (
                                <span className="bg-white px-2 py-1 rounded-full text-xs text-amber-700 border border-amber-300">ğŸ‘ í•µê³¼ë¥˜</span>
                              )}
                              {whisky.fruits.includes('apple_pear') && (
                                <span className="bg-white px-2 py-1 rounded-full text-xs text-amber-700 border border-amber-300">ğŸ ì‚¬ê³¼/ë°°</span>
                              )}
                              {whisky.fruits.includes('dried_fruit') && (
                                <span className="bg-white px-2 py-1 rounded-full text-xs text-amber-700 border border-amber-300">ğŸ¥­ ê±´ê³¼ì¼</span>
                              )}
                              {whisky.fruits.includes('tropical') && (
                                <span className="bg-white px-2 py-1 rounded-full text-xs text-amber-700 border border-amber-300">ğŸ ì—´ëŒ€ê³¼ì¼</span>
                              )}
                            </div>
                          </div>
                        </div>

                        <p className="text-gray-700 mb-2">{whisky.description}</p>
                        <p className="text-sm text-gray-600 bg-white p-3 rounded-lg">
                          <strong>í…Œì´ìŠ¤íŒ… ë…¸íŠ¸:</strong> {whisky.notes}
                        </p>
                      </div>
                    ))}
                  </div>

                  <div className="mt-8 text-center space-y-4">
                    {/* ê³µìœ  ë²„íŠ¼ë“¤ */}
                    <div className="mb-6">
                      <h4 className="text-lg font-bold text-gray-800 mb-4">ğŸ“¢ ê²°ê³¼ ê³µìœ í•˜ê¸°</h4>
                      <div className="flex flex-wrap justify-center gap-3">
                        <button
                          onClick={shareResult}
                          className="flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm font-medium"
                        >
                          ğŸ“¤ ê³µìœ í•˜ê¸°
                        </button>
                        <button
                          onClick={shareToInstagram}
                          className="flex items-center gap-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-pink-600 hover:to-purple-600 transition-colors text-sm font-medium"
                        >
                          ğŸ“¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬
                        </button>
                        <button
                          onClick={shareToInstagramAdvanced}
                          className="flex items-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-colors text-sm font-medium"
                        >
                          âœ¨ ì¸ìŠ¤íƒ€ê·¸ë¨ ì§ì ‘ê³µìœ 
                        </button>
                        <button
                          onClick={shareToKakao}
                          className="flex items-center gap-2 bg-yellow-400 text-gray-800 px-4 py-2 rounded-lg hover:bg-yellow-500 transition-colors text-sm font-medium"
                        >
                          ğŸ’¬ ì¹´ì¹´ì˜¤í†¡
                        </button>
                      </div>
                    </div>

                    {/* ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ ë²„íŠ¼ */}
                    <button
                      onClick={resetTest}
                      className="inline-flex items-center gap-2 bg-amber-600 text-white px-6 py-3 rounded-xl hover:bg-amber-700 transition-colors font-medium"
                    >
                      <RotateCcw />
                      ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
                    </button>
                  </div>

                  <div className="mt-8 p-4 bg-amber-50 rounded-xl">
                    <h4 className="font-bold text-amber-800 mb-2">ğŸ’¡ ì´ˆë³´ìë¥¼ ìœ„í•œ íŒ</h4>
                    <ul className="text-sm text-gray-700 space-y-1">
                      <li>â€¢ ì²˜ìŒì—” ìŠ¤íŠ¸ë ˆì´íŠ¸ë³´ë‹¤ ì˜¨ë”ë½ì´ë‚˜ í•˜ì´ë³¼ë¡œ ì‹œì‘í•´ë³´ì„¸ìš”</li>
                      <li>â€¢ ìœ„ìŠ¤í‚¤ ì „ìš© ê¸€ë¼ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ í–¥ì„ ë” ì˜ ëŠë‚„ ìˆ˜ ìˆì–´ìš”</li>
                      <li>â€¢ ë¬¼ì„ í•œë‘ ë°©ìš¸ ë–¨ì–´ëœ¨ë¦¬ë©´ í–¥ì´ ë” í™œì§ ì—´ë¦½ë‹ˆë‹¤</li>
                      <li>â€¢ ì²œì²œíˆ ìŒë¯¸í•˜ë©° ë§ˆì‹œëŠ” ê²ƒì´ í¬ì¸íŠ¸ì˜ˆìš”</li>
                    </ul>
                  </div>
                </div>
              </div>
            );
          }

          // í…ŒìŠ¤íŠ¸ í™”ë©´
          return (
            <div className="max-w-2xl mx-auto p-6 bg-gradient-to-br from-amber-50 to-orange-50 min-h-screen">
              <div className="bg-white rounded-2xl shadow-2xl p-8">
                {/* í—¤ë” */}
                <div className="text-center mb-8">
                  <h1 className="text-3xl font-bold text-amber-800 mb-2">ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°</h1>
                  <p className="text-gray-600">MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ì·¨í–¥ì— ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œí•´ë“œë ¤ìš”</p>
                </div>

                {/* ì§„í–‰ë„ */}
                <div className="mb-8">
                  <div className="flex justify-between text-sm text-gray-500 mb-2">
                    <span>ì§„í–‰ë„</span>
                    <span>{currentStep + 1} / {questions.length}</span>
                  </div>
                  <div className="w-full bg-gray-200 rounded-full h-2">
                    <div 
                      className="bg-gradient-to-r from-amber-400 to-orange-500 h-2 rounded-full transition-all duration-500"
                      style={{ width: `${((currentStep + 1) / questions.length) * 100}%` }}
                    />
                  </div>
                </div>

                {/* ì§ˆë¬¸ */}
                <div className="mb-8">
                  <h2 className="text-xl font-bold text-gray-800 mb-2">{currentQuestion.title}</h2>
                  {currentQuestion.subtitle && (
                    <p className="text-sm text-gray-600 mb-4">{currentQuestion.subtitle}</p>
                  )}

                  <div className="space-y-3">
                    {currentQuestion.options.map((option) => {
                      return (
                        <button
                          key={option.value}
                          onClick={() => handleAnswer(currentQuestion.id, option.value)}
                          className={`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 ${
                            isSelected
                              ? 'border-amber-500 bg-amber-50 text-amber-900'
                              : 'border-gray-200 hover:border-amber-300 hover:bg-amber-25'
                          }`}
                        >
                          <div className="flex items-center gap-3">
                            <span className="text-2xl">{option.icon}</span>
                            <span className="font-medium">{option.label}</span>
                          </div>
                        </button>
                      );
                    })}
                  </div>
                </div>

                {/* ë„¤ë¹„ê²Œì´ì…˜ */}
                <div className="flex justify-between">
                  <button
                    onClick={prevStep}
                    disabled={currentStep === 0}
                    className={`inline-flex items-center gap-2 px-6 py-3 rounded-xl transition-colors ${
                      currentStep === 0
                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                    }`}
                  >
                    <ChevronLeft />
                    ì´ì „
                  </button>

                  <button
                    onClick={nextStep}
                    disabled={!canProceed}
                    className={`inline-flex items-center gap-2 px-6 py-3 rounded-xl transition-colors font-medium ${
                      canProceed
                        ? 'bg-amber-600 text-white hover:bg-amber-700'
                        : 'bg-gray-100 text-gray-400 cursor-not-allowed'
                    }`}
                  >
                    {currentStep === questions.length - 1 ? 'ê²°ê³¼ ë³´ê¸°' : 'ë‹¤ìŒ'}
                    <ChevronRight />
                  </button>
                </div>
              </div>
            </div>
          );
        };

        ReactDOM.render(<WhiskyRecommendationApp />, document.getElementById('root'));
    </script>
</body>
</html>