<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸° - MBTI ìŠ¤íƒ€ì¼ ìœ„ìŠ¤í‚¤ ì¶”ì²œ</title>
    <meta name="description" content="MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì·¨í–¥ì— ë”± ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œí•´ë“œë ¤ìš”. 3ë¶„ì´ë©´ ì™„ë£Œ!">
    <meta name="keywords" content="ìœ„ìŠ¤í‚¤, ì¶”ì²œ, MBTI, ì·¨í–¥, í…ŒìŠ¤íŠ¸, ìœ„ìŠ¤í‚¤ ì¶”ì²œ, ìŠ¤ì¹´ì¹˜, ë²„ë²ˆ, ì¼ë³¸ìœ„ìŠ¤í‚¤">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°">
    <meta property="og:description" content="MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ì·¨í–¥ì— ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œë°›ìœ¼ì„¸ìš”!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://whisky-recommendation.vercel.app/">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°">
    <meta name="twitter:description" content="MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ì·¨í–¥ì— ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œë°›ìœ¼ì„¸ìš”!">
    
    <meta name="theme-color" content="#f59e0b">
    
    <!-- Vercel Analytics -->
    <script defer src="https://analytics.vercel-insights.com/script.js"></script>
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Analytics ì¶”ì  í•¨ìˆ˜
        const trackEvent = (eventName, properties = {}) => {
          if (typeof va !== 'undefined') {
            va('track', eventName, properties);
          }
        };

        // ê°„ë‹¨í•œ ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ë“¤
        const ChevronRight = () => <span>â†’</span>;
        const ChevronLeft = () => <span>â†</span>;
        const RotateCcw = () => <span>â†»</span>;
        const Star = () => <span>â­</span>;
        const MapPin = () => <span>ğŸ“</span>;
        const Zap = () => <span>âš¡</span>;
        const Grape = () => <span>ğŸ‡</span>;

        const WhiskyRecommendationApp = () => {
          const [currentScreen, setCurrentScreen] = useState('landing');
          const [currentStep, setCurrentStep] = useState(0);
          const [answers, setAnswers] = useState({});
          const [result, setResult] = useState(null);

          const startTest = () => {
            // í…ŒìŠ¤íŠ¸ ì‹œì‘ ì¶”ì 
            trackEvent('Test Started');
            setCurrentScreen('test');
          };

          const resetTest = () => {
            // í…ŒìŠ¤íŠ¸ ë¦¬ì…‹ ì¶”ì 
            trackEvent('Test Reset');
            setCurrentStep(0);
            setAnswers({});
            setResult(null);
            setCurrentScreen('landing');
          };

          // ì§ˆë¬¸ ë°ì´í„°
          const questions = [
            {
              id: 'experience',
              title: 'ìœ„ìŠ¤í‚¤ ê²½í—˜ì´ ì–´ëŠ ì •ë„ì¸ê°€ìš”?',
              type: 'single',
              options: [
                { value: 'beginner', label: 'ì™„ì „ ì´ˆë³´ì (ìœ„ìŠ¤í‚¤ë¥¼ ê±°ì˜ ì•ˆ ë§ˆì…”ë´¤ì–´ìš”)', icon: 'ğŸŒ±' },
                { value: 'casual', label: 'ê°€ë” ë§ˆì…”ë´¤ì–´ìš” (í•˜ì´ë³¼ ì •ë„)', icon: 'ğŸ¹' },
                { value: 'interested', label: 'ê´€ì‹¬ì´ ìƒê²¨ì„œ ì•Œì•„ë³´ëŠ” ì¤‘ì´ì—ìš”', icon: 'ğŸ¤”' },
                { value: 'experienced', label: 'ì–´ëŠ ì •ë„ ê²½í—˜ì´ ìˆì–´ìš”', icon: 'ğŸ¥ƒ' }
              ]
            },
            {
              id: 'whisky_type_preference',
              title: 'ì–´ë–¤ ì¢…ë¥˜ì˜ ìœ„ìŠ¤í‚¤ì— ê´€ì‹¬ì´ ìˆìœ¼ì‹ ê°€ìš”?',
              type: 'multiple',
              subtitle: 'ìƒì‚°ì§€/ì œì¡°ë°©ì‹ë³„ ì„ í˜¸ë„ (ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥)',
              options: [
                { value: 'scotch_single', label: 'ìŠ¤ì¹´ì¹˜ ì‹±ê¸€ëª°íŠ¸ (í•œ ì¦ë¥˜ì†Œë§Œ, ê¹Šê³  ê°œì„±ì ì¸ ë§›)', icon: 'ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿' },
                { value: 'scotch_blend', label: 'ìŠ¤ì¹´ì¹˜ ë¸”ë Œë””ë“œ (ì—¬ëŸ¬ ìœ„ìŠ¤í‚¤ ì¡°í•©, ê· í˜•ì¡íŒ ë§›)', icon: 'ğŸ¥ƒ' },
                { value: 'american_bourbon', label: 'ì•„ë©”ë¦¬ì¹¸ ë²„ë²ˆ (ë‹¬ì½¤í•˜ê³  ë°”ë‹ë¼í–¥ ê°•í•œ)', icon: 'ğŸ‡ºğŸ‡¸' },
                { value: 'japanese', label: 'ì¼ë³¸ ìœ„ìŠ¤í‚¤ (ì„¬ì„¸í•˜ê³  ìš°ì•„í•œ, ê½ƒí–¥ê³¼ ê· í˜•ë¯¸)', icon: 'ğŸ‡¯ğŸ‡µ' },
                { value: 'irish', label: 'ì•„ì´ë¦¬ì‹œ ìœ„ìŠ¤í‚¤ (ë¶€ë“œëŸ½ê³  ìˆœí•œ, ì´ˆë³´ì ì¹œí™”ì )', icon: 'ğŸ‡®ğŸ‡ª' },
                { value: 'any', label: 'ìƒê´€ì—†ì–´ìš” (ë‹¤ì–‘í•˜ê²Œ ê²½í—˜í•´ë³´ê³  ì‹¶ì–´ìš”)', icon: 'ğŸŒ' }
              ]
            },
            {
              id: 'flavor_intensity',
              title: 'ìœ„ìŠ¤í‚¤ì˜ ë§› ê°•ë„ëŠ” ì–´ëŠ ì •ë„ë¥¼ ì„ í˜¸í•˜ì‹œë‚˜ìš”?',
              type: 'single',
              options: [
                { value: 'mild', label: 'ë¶€ë“œëŸ½ê³  ìˆœí•œ ë§› (ì²˜ìŒ ë§ˆì‹œê¸° í¸í•œ)', icon: 'ğŸ•Šï¸' },
                { value: 'moderate', label: 'ì ë‹¹í•œ ê°•ë„ (íŠ¹ì§•ì€ ìˆì§€ë§Œ ë¶€ë‹´ìŠ¤ëŸ½ì§€ ì•Šì€)', icon: 'âš–ï¸' },
                { value: 'bold', label: 'ì§„í•˜ê³  ê°•í•œ ë§› (ê°œì„±ì´ ëšœë ·í•œ)', icon: 'âš¡' },
                { value: 'complex', label: 'ë³µí•©ì ì´ê³  ê¹Šì€ ë§› (ë‹¤ì¸µì ì¸ í’ë¯¸)', icon: 'ğŸŒŠ' }
              ]
            },
            {
              id: 'sweetness_preference',
              title: 'ë‹¨ë§›ì— ëŒ€í•œ ì„ í˜¸ë„ëŠ”?',
              type: 'single',
              options: [
                { value: 'very_sweet', label: 'ë‹¬ì½¤í•œ ë§›ì„ ì •ë§ ì¢‹ì•„í•´ìš” (ê¿€, ìºëŸ¬ë©œ, ë°”ë‹ë¼)', icon: 'ğŸ¯' },
                { value: 'moderate_sweet', label: 'ì ë‹¹í•œ ë‹¨ë§›ì´ ì¢‹ì•„ìš” (ê³¼ì¼, ì´ˆì½œë¦¿)', icon: 'ğŸ«' },
                { value: 'dry_sweet', label: 'ì€ì€í•œ ë‹¨ë§› ì •ë„ (ê±´ê³¼ì¼, ê²¬ê³¼ë¥˜)', icon: 'ğŸ¥œ' },
                { value: 'no_sweet', label: 'ë‹¨ë§›ë³´ë‹¤ëŠ” ë“œë¼ì´í•œ ë§›ì„ ì„ í˜¸í•´ìš”', icon: 'ğŸŒ¿' }
              ]
            },
            {
              id: 'fruit_preference',
              title: 'ê³¼ì¼í–¥ ì¤‘ì—ì„œëŠ” ì–´ë–¤ ê³„ì—´ì„ ì„ í˜¸í•˜ì‹œë‚˜ìš”?',
              type: 'multiple',
              subtitle: 'ê³¼ì¼í–¥ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì„ í˜¸ë„',
              options: [
                { value: 'citrus', label: 'ì‹œíŠ¸ëŸ¬ìŠ¤ (ë ˆëª¬, ì˜¤ë Œì§€, ìëª½)', icon: 'ğŸŠ' },
                { value: 'stone_fruit', label: 'í•µê³¼ë¥˜ (ë³µìˆ­ì•„, ì‚´êµ¬, ìë‘)', icon: 'ğŸ‘' },
                { value: 'apple_pear', label: 'ì‚¬ê³¼/ë°° (ì‹ ì„ í•˜ê³  ì•„ì‚­í•œ)', icon: 'ğŸ' },
                { value: 'berry', label: 'ë² ë¦¬ë¥˜ (ë”¸ê¸°, ë¸”ë£¨ë² ë¦¬, ë¼ì¦ˆë² ë¦¬)', icon: 'ğŸ«' },
                { value: 'tropical', label: 'ì—´ëŒ€ê³¼ì¼ (íŒŒì¸ì• í”Œ, ë§ê³ , ë°”ë‚˜ë‚˜)', icon: 'ğŸ' },
                { value: 'dried_fruit', label: 'ê±´ê³¼ì¼ (ê±´í¬ë„, ë¬´í™”ê³¼, ëŒ€ì¶”)', icon: 'ğŸ¥­' },
                { value: 'no_fruit', label: 'ê³¼ì¼í–¥ì€ ë³„ë¡œ ì„ í˜¸í•˜ì§€ ì•Šì•„ìš”', icon: 'âŒ' }
              ]
            },
            {
              id: 'smoke_preference',
              title: 'ìŠ¤ëª¨í‚¤í•œ ë§›(í”¼íŠ¸í–¥)ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì„¸ìš”?',
              type: 'single',
              subtitle: 'ì•„ì¼ë ˆì´ ìœ„ìŠ¤í‚¤ì˜ íŠ¹ì§•ì¸ ì—°ê¸°/í™ë‚´ìŒ',
              options: [
                { value: 'avoid', label: 'í”¼í•˜ê³  ì‹¶ì–´ìš” (ì—°ê¸° ëƒ„ìƒˆëŠ” ë¶€ë‹´ìŠ¤ëŸ¬ì›Œìš”)', icon: 'ğŸš«' },
                { value: 'curious', label: 'ê¶ê¸ˆí•´ìš” (í•œ ë²ˆ ë„ì „í•´ë³´ê³  ì‹¶ì–´ìš”)', icon: 'ğŸ¤¨' },
                { value: 'light_smoke', label: 'ê°€ë²¼ìš´ ìŠ¤ëª¨í‚¤ëŠ” ê´œì°®ì•„ìš”', icon: 'ğŸ’¨' },
                { value: 'like', label: 'ìŠ¤ëª¨í‚¤í•œ ë§›ì„ ì¢‹ì•„í•´ìš”', icon: 'ğŸ˜' },
                { value: 'love_peat', label: 'ì§„í•œ í”¼íŠ¸í–¥ì„ ë§¤ìš° ì¢‹ì•„í•´ìš”', icon: 'ğŸ”¥' }
              ]
            },
            {
              id: 'alcohol_tolerance',
              title: 'ì•Œì½”ì˜¬ ë„ìˆ˜ì— ëŒ€í•œ ì„ í˜¸ë„ëŠ”?',
              type: 'single',
              options: [
                { value: 'low', label: 'ë¶€ë“œëŸ½ê³  ë‚®ì€ ë„ìˆ˜ë¥¼ ì„ í˜¸ (40ë„ ì´í•˜)', icon: 'ğŸ˜Œ' },
                { value: 'medium', label: 'ì ë‹¹í•œ ë„ìˆ˜ê°€ ì¢‹ì•„ìš” (40-43ë„)', icon: 'ğŸ‘Œ' },
                { value: 'high', label: 'ì§„í•œ ë§›ì„ ì›í•´ìš” (43ë„ ì´ìƒ)', icon: 'ğŸ’ª' },
                { value: 'cask_strength', label: 'ì›ì•¡ ê·¸ëŒ€ë¡œì˜ ê°•í•œ ë§›ë„ ê´œì°®ì•„ìš”', icon: 'ğŸ”¥' }
              ]
            },
            {
              id: 'drinking_style',
              title: 'ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë§ˆì‹œê³  ì‹¶ìœ¼ì‹ ê°€ìš”?',
              type: 'multiple',
              options: [
                { value: 'neat', label: 'ìŠ¤íŠ¸ë ˆì´íŠ¸ (ê·¸ëŒ€ë¡œ)', icon: 'ğŸ¥ƒ' },
                { value: 'rocks', label: 'ì˜¨ë”ë½ (ì–¼ìŒê³¼ í•¨ê»˜)', icon: 'ğŸ§Š' },
                { value: 'highball', label: 'í•˜ì´ë³¼ (íƒ„ì‚°ìˆ˜ì™€ í•¨ê»˜)', icon: 'ğŸ¥¤' },
                { value: 'cocktail', label: 'ì¹µí…Œì¼ ë² ì´ìŠ¤ë¡œ', icon: 'ğŸ¸' },
                { value: 'water', label: 'ë¬¼ì„ ì¡°ê¸ˆ ë„£ì–´ì„œ', icon: 'ğŸ’§' }
              ]
            },
            {
              id: 'atmosphere',
              title: 'ì–´ë–¤ ë¶„ìœ„ê¸°ì—ì„œ ë§ˆì‹œê³  ì‹¶ìœ¼ì‹ ê°€ìš”?',
              type: 'single',
              options: [
                { value: 'casual', label: 'ì§‘ì—ì„œ í¸ì•ˆí•˜ê²Œ', icon: 'ğŸ ' },
                { value: 'social', label: 'ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜', icon: 'ğŸ‘¥' },
                { value: 'special', label: 'íŠ¹ë³„í•œ ë‚ ì—', icon: 'ğŸ‰' },
                { value: 'contemplative', label: 'í˜¼ìì„œ ì—¬ìœ ë¡­ê²Œ', icon: 'ğŸ¤”' }
              ]
            },
            {
              id: 'budget',
              title: 'ì˜ˆì‚°ëŒ€ëŠ” ì–´ëŠ ì •ë„ì¸ê°€ìš”?',
              type: 'single',
              options: [
                { value: 'budget', label: '5ë§Œì› ì´í•˜ (ì…ë¬¸ìš©)', icon: 'ğŸ’°' },
                { value: 'mid', label: '5-10ë§Œì› (ì¤‘ê¸‰)', icon: 'ğŸ’³' },
                { value: 'premium', label: '10-20ë§Œì› (í”„ë¦¬ë¯¸ì—„)', icon: 'ğŸ’' },
                { value: 'luxury', label: '20ë§Œì› ì´ìƒ (ëŸ­ì…”ë¦¬)', icon: 'ğŸ‘‘' }
              ]
            }
          ];

          // ìœ„ìŠ¤í‚¤ ë°ì´í„°ë² ì´ìŠ¤
          const whiskies = [
            {
              name: 'ê¸€ë Œí”¼ë”• 12ë…„',
              region: 'ìŠ¤ì½”í‹€ëœë“œ (ìŠ¤í˜ì´ì‚¬ì´ë“œ)',
              type: 'scotch_single',
              abv: 40,
              price: 'ì…ë¬¸ìš© (5ë§Œì›ëŒ€)',
              intensity: 'mild',
              sweetness: 'moderate_sweet',
              fruits: ['apple_pear', 'citrus'],
              smoke: 'avoid',
              drinking_styles: ['neat', 'rocks', 'water'],
              description: 'ë¶€ë“œëŸ½ê³  ë‹¬ì½¤í•œ ê³¼ì¼í–¥ì´ íŠ¹ì§•ì¸ ì´ˆë³´ì ì¹œí™”ì ì¸ ìœ„ìŠ¤í‚¤',
              notes: 'ë°°, ì‚¬ê³¼, ê¿€, ë°”ë‹ë¼ì˜ ì¡°í™”ë¡œìš´ ë§›',
              suitable_for: ['beginner', 'casual'],
              atmosphere: ['casual', 'social']
            },
            {
              name: 'ë§¥ì¼ˆë€ 12ë…„',
              region: 'ìŠ¤ì½”í‹€ëœë“œ (ìŠ¤í˜ì´ì‚¬ì´ë“œ)',
              type: 'scotch_single',
              abv: 40,
              price: 'ì¤‘ê¸‰ (8ë§Œì›ëŒ€)',
              intensity: 'moderate',
              sweetness: 'very_sweet',
              fruits: ['dried_fruit', 'citrus'],
              smoke: 'avoid',
              drinking_styles: ['neat', 'rocks'],
              description: 'ì…°ë¦¬ ìºìŠ¤í¬ ìˆ™ì„±ìœ¼ë¡œ í’ë¶€í•œ ë‹¨ë§›ê³¼ ê²¬ê³¼ë¥˜ í–¥ì´ íŠ¹ì§•',
              notes: 'ê±´í¬ë„, ì´ˆì½œë¦¿, ìƒê°•, ì˜¤ë Œì§€ê»ì§ˆ',
              suitable_for: ['casual', 'interested', 'experienced'],
              atmosphere: ['special', 'contemplative']
            },
            {
              name: 'ë¼ê°€ë¶ˆë¦° 16ë…„',
              region: 'ìŠ¤ì½”í‹€ëœë“œ (ì•„ì¼ë ˆì´)',
              type: 'scotch_single',
              abv: 43,
              price: 'í”„ë¦¬ë¯¸ì—„ (15ë§Œì›ëŒ€)',
              intensity: 'complex',
              sweetness: 'dry_sweet',
              fruits: ['dried_fruit'],
              smoke: 'love_peat',
              drinking_styles: ['neat', 'rocks', 'water'],
              description: 'ê°•ë ¬í•œ í”¼íŠ¸í–¥ê³¼ ë³µí•©ì ì¸ ë§›ì˜ ê· í˜•ì´ ë›°ì–´ë‚œ ì•„ì¼ë ˆì´ ìœ„ìŠ¤í‚¤',
              notes: 'ë°”ë‹¤í–¥, ì—°ê¸°, ë§ë¦° ê³¼ì¼, í›„ì¶”',
              suitable_for: ['interested', 'experienced'],
              atmosphere: ['contemplative', 'special']
            },
            {
              name: 'ì¡°ë‹ˆì›Œì»¤ ë¸”ë™ë¼ë²¨',
              region: 'ìŠ¤ì½”í‹€ëœë“œ',
              type: 'scotch_blend',
              abv: 40,
              price: 'ì¤‘ê¸‰ (7ë§Œì›ëŒ€)',
              intensity: 'moderate',
              sweetness: 'moderate_sweet',
              fruits: ['stone_fruit', 'citrus'],
              smoke: 'light_smoke',
              drinking_styles: ['neat', 'rocks', 'highball', 'cocktail'],
              description: 'ê· í˜•ì¡íŒ ë¸”ë Œë”©ìœ¼ë¡œ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ìœ„ìŠ¤í‚¤',
              notes: 'ê³¼ì¼, ë°”ë‹ë¼, ìŠ¤íŒŒì´ìŠ¤, ê°€ë²¼ìš´ ìŠ¤ëª¨í‚¤',
              suitable_for: ['casual', 'interested'],
              atmosphere: ['casual', 'social', 'special']
            },
            {
              name: 'íˆë¹„í‚¤ í•˜ëª¨ë‹ˆ',
              region: 'ì¼ë³¸',
              type: 'japanese',
              abv: 43,
              price: 'í”„ë¦¬ë¯¸ì—„ (12ë§Œì›ëŒ€)',
              intensity: 'moderate',
              sweetness: 'moderate_sweet',
              fruits: ['citrus', 'stone_fruit'],
              smoke: 'avoid',
              drinking_styles: ['neat', 'rocks', 'highball'],
              description: 'ì„¬ì„¸í•˜ê³  ìš°ì•„í•œ ì¼ë³¸ ìœ„ìŠ¤í‚¤ì˜ ëŒ€í‘œì‘',
              notes: 'ê½ƒí–¥, ê¿€, ì˜¤ë Œì§€, ë°±ë‹¨í–¥',
              suitable_for: ['interested', 'experienced'],
              atmosphere: ['special', 'contemplative']
            },
            {
              name: 'ì—ë°˜ ìœŒë¦¬ì—„ìŠ¤ ë¸”ë™',
              region: 'ë¯¸êµ­ (ì¼„í„°í‚¤)',
              type: 'american_bourbon',
              abv: 43,
              price: 'ì…ë¬¸ìš© (4ë§Œì›ëŒ€)',
              intensity: 'moderate',
              sweetness: 'very_sweet',
              fruits: ['no_fruit'],
              smoke: 'avoid',
              drinking_styles: ['neat', 'rocks', 'cocktail'],
              description: 'ì†”ì§í•˜ê³  ì „í˜•ì ì¸ ë²„ë²ˆì˜ íŠ¹ì„±ì„ ê°€ì§„ ê°€ì„±ë¹„ ìœ„ìŠ¤í‚¤',
              notes: 'ë°”ë‹ë¼, ìºëŸ¬ë©œ, ë¸Œë¼ìš´ìŠˆê°€, ì˜¤í¬',
              suitable_for: ['beginner', 'casual', 'interested'],
              atmosphere: ['casual', 'social']
            }
          ];

          const handleAnswer = (questionId, value) => {
            const question = questions[currentStep];
            if (question.type === 'multiple') {
              const currentAnswers = answers[questionId] || [];
              const newAnswers = currentAnswers.includes(value)
                ? currentAnswers.filter(v => v !== value)
                : [...currentAnswers, value];
              setAnswers({ ...answers, [questionId]: newAnswers });
            } else {
              setAnswers({ ...answers, [questionId]: value });
            }
          };

          const nextStep = () => {
            // ì§ˆë¬¸ ì§„í–‰ ì¶”ì 
            trackEvent('Question Answered', {
              questionId: questions[currentStep].id,
              questionNumber: currentStep + 1,
              totalQuestions: questions.length
            });

            if (currentStep < questions.length - 1) {
              setCurrentStep(currentStep + 1);
            } else {
              calculateRecommendation();
            }
          };

          const prevStep = () => {
            // ì´ì „ ë‹¨ê³„ ì¶”ì 
            trackEvent('Question Previous', {
              questionNumber: currentStep + 1
            });

            if (currentStep > 0) {
              setCurrentStep(currentStep - 1);
            }
          };

          const calculateRecommendation = () => {
            let scores = whiskies.map(whisky => ({ ...whisky, score: 0 }));

            // ê²½í—˜ë„ ì ìˆ˜
            if (answers.experience) {
              scores.forEach(whisky => {
                if (whisky.suitable_for.includes(answers.experience)) {
                  whisky.score += 25;
                }
              });
            }

            // ìœ„ìŠ¤í‚¤ íƒ€ì… ì„ í˜¸ë„ ì ìˆ˜
            if (answers.whisky_type_preference) {
              scores.forEach(whisky => {
                if (answers.whisky_type_preference.includes('any') || 
                    answers.whisky_type_preference.includes(whisky.type)) {
                  whisky.score += 20;
                }
              });
            }

            // ë§› ê°•ë„ ì„ í˜¸ë„ ì ìˆ˜
            if (answers.flavor_intensity) {
              scores.forEach(whisky => {
                if (whisky.intensity === answers.flavor_intensity) {
                  whisky.score += 20;
                }
              });
            }

            // ë‹¨ë§› ì„ í˜¸ë„ ì ìˆ˜
            if (answers.sweetness_preference) {
              scores.forEach(whisky => {
                if (whisky.sweetness === answers.sweetness_preference) {
                  whisky.score += 20;
                }
              });
            }

            // ê³¼ì¼í–¥ ì„ í˜¸ë„ ì ìˆ˜
            if (answers.fruit_preference) {
              scores.forEach(whisky => {
                if (answers.fruit_preference.includes('no_fruit')) {
                  if (whisky.fruits.includes('no_fruit')) {
                    whisky.score += 15;
                  }
                } else {
                  const matchingFruits = whisky.fruits.filter(fruit => 
                    answers.fruit_preference.includes(fruit)
                  ).length;
                  whisky.score += matchingFruits * 10;
                }
              });
            }

            // ìŠ¤ëª¨í‚¤ ì„ í˜¸ë„ ì ìˆ˜
            if (answers.smoke_preference) {
              scores.forEach(whisky => {
                if (whisky.smoke === answers.smoke_preference) {
                  whisky.score += 25;
                }
                if (answers.smoke_preference === 'curious' && whisky.smoke === 'light_smoke') {
                  whisky.score += 15;
                }
              });
            }

            // ë„ìˆ˜ ì„ í˜¸ë„ ì ìˆ˜
            if (answers.alcohol_tolerance) {
              scores.forEach(whisky => {
                if (answers.alcohol_tolerance === 'low' && whisky.abv <= 40) whisky.score += 15;
                if (answers.alcohol_tolerance === 'medium' && whisky.abv >= 40 && whisky.abv <= 43) whisky.score += 15;
                if (answers.alcohol_tolerance === 'high' && whisky.abv > 43) whisky.score += 15;
              });
            }

            // ë§ˆì‹œëŠ” ë°©ì‹ ì ìˆ˜
            if (answers.drinking_style) {
              scores.forEach(whisky => {
                const matchingStyles = whisky.drinking_styles.filter(style => 
                  answers.drinking_style.includes(style)
                ).length;
                whisky.score += matchingStyles * 10;
              });
            }

            // ë¶„ìœ„ê¸° ì ìˆ˜
            if (answers.atmosphere) {
              scores.forEach(whisky => {
                if (whisky.atmosphere.includes(answers.atmosphere)) {
                  whisky.score += 15;
                }
              });
            }

            // ì˜ˆì‚° ì ìˆ˜
            if (answers.budget) {
              scores.forEach(whisky => {
                if (answers.budget === 'budget' && whisky.price.includes('ì…ë¬¸ìš©')) whisky.score += 20;
                if (answers.budget === 'mid' && (whisky.price.includes('ì¤‘ê¸‰') || whisky.price.includes('ì…ë¬¸ìš©'))) whisky.score += 20;
                if (answers.budget === 'premium' && whisky.price.includes('í”„ë¦¬ë¯¸ì—„')) whisky.score += 20;
              });
            }

            // ì ìˆ˜ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ìƒìœ„ 3ê°œ ì¶”ì²œ
            const recommendations = scores
              .sort((a, b) => b.score - a.score)
              .slice(0, 3);

            // ë§¤ì¹­ë„ ê³„ì‚°
            if (recommendations.length > 0) {
              const maxPossibleScore = 180;
              recommendations.forEach(whisky => {
                const rawPercentage = (whisky.score / maxPossibleScore) * 100;
                whisky.matchPercentage = Math.min(98, Math.max(65, Math.round(rawPercentage)));
              });
            }

            // í…ŒìŠ¤íŠ¸ ì™„ë£Œ ì¶”ì 
            trackEvent('Test Completed', {
              topWhisky: recommendations[0].name,
              matchPercentage: recommendations[0].matchPercentage,
              region: recommendations[0].region,
              totalAnswers: Object.keys(answers).length
            });

            setResult(recommendations);
            setCurrentScreen('result');
          };

          const shareResult = () => {
            const topWhisky = result[0];
            const shareText = `ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸° ê²°ê³¼!\n\nì¶”ì²œ ìœ„ìŠ¤í‚¤: ${topWhisky.name}\në§¤ì¹­ë„: ${topWhisky.matchPercentage}%\n\n${topWhisky.description}\n\në‹¹ì‹ ì˜ ì·¨í–¥ì€? í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!`;
            const shareUrl = window.location.href;

            if (navigator.share) {
              navigator.share({
                title: 'ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸° ê²°ê³¼',
                text: shareText,
                url: shareUrl
              }).catch(console.error);
            } else {
              const fullText = `${shareText}\n\n${shareUrl}`;
              navigator.clipboard.writeText(fullText).then(() => {
                alert('ğŸ‰ ê³µìœ  í…ìŠ¤íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nSNSì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
              }).catch(() => {
                const textArea = document.createElement('textarea');
                textArea.value = fullText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('ğŸ‰ ê³µìœ  í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nSNSì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
              });
            }
          };

          const generateResultImage = () => {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // ìº”ë²„ìŠ¤ í¬ê¸° ì„¤ì • (ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ ë¹„ìœ¨: 9:16)
            canvas.width = 1080;
            canvas.height = 1920;
            
            const topWhisky = result[0];
            
            // ë°°ê²½ ê·¸ë¼ë°ì´ì…˜
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#FEF3C7'); // amber-100
            gradient.addColorStop(1, '#FED7AA'); // orange-200
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ë©”ì¸ ë°°ê²½ ì¹´ë“œ
            ctx.fillStyle = '#FFFFFF';
            ctx.roundRect = function(x, y, w, h, r) {
              this.beginPath();
              this.moveTo(x + r, y);
              this.lineTo(x + w - r, y);
              this.quadraticCurveTo(x + w, y, x + w, y + r);
              this.lineTo(x + w, y + h - r);
              this.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
              this.lineTo(x + r, y + h);
              this.quadraticCurveTo(x, y + h, x, y + h - r);
              this.lineTo(x, y + r);
              this.quadraticCurveTo(x, y, x + r, y);
              this.closePath();
            };
            
            ctx.roundRect(80, 200, 920, 1500, 40);
            ctx.fill();
            
            // ì œëª©
            ctx.shadowColor = 'transparent';
            ctx.fillStyle = '#92400E';
            ctx.textAlign = 'center';
            ctx.font = 'bold 80px Arial';
            ctx.fillText('ğŸ¥ƒ', 540, 350);
            
            ctx.font = 'bold 64px Arial';
            ctx.fillText('ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°', 540, 450);
            
            // ê²°ê³¼ ì œëª©
            ctx.font = 'bold 48px Arial';
            ctx.fillStyle = '#D97706';
            ctx.fillText('ì¶”ì²œ ê²°ê³¼', 540, 580);
            
            // 1ìœ„ ë±ƒì§€
            ctx.fillStyle = '#F59E0B';
            ctx.beginPath();
            ctx.arc(200, 720, 40, 0, 2 * Math.PI);
            ctx.fill();
            
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'bold 36px Arial';
            ctx.fillText('1', 200, 735);
            
            // ìœ„ìŠ¤í‚¤ ì´ë¦„
            ctx.fillStyle = '#92400E';
            ctx.font = 'bold 56px Arial';
            ctx.textAlign = 'left';
            ctx.fillText(topWhisky.name, 280, 735);
            
            // ë§¤ì¹­ë„
            ctx.fillStyle = '#F59E0B';
            ctx.font = 'bold 42px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`ë§¤ì¹­ë„: ${topWhisky.matchPercentage}%`, 540, 820);
            
            // ì§€ì—­ ì •ë³´
            ctx.fillStyle = '#6B7280';
            ctx.font = '36px Arial';
            ctx.fillText(`ğŸ“ ${topWhisky.region}`, 540, 980);
            
            // ì„¤ëª…
            ctx.fillStyle = '#374151';
            ctx.font = '32px Arial';
            ctx.fillText(topWhisky.description, 540, 1200);
            
            // í•˜ë‹¨ CTA
            ctx.fillStyle = '#F59E0B';
            ctx.font = 'bold 42px Arial';
            ctx.fillText('ë‹¹ì‹ ì˜ ì·¨í–¥ì€?', 540, 1550);
            
            ctx.fillStyle = '#92400E';
            ctx.font = 'bold 38px Arial';
            ctx.fillText('ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸° í…ŒìŠ¤íŠ¸', 540, 1610);
            
            return canvas;
          };

          const shareToInstagram = () => {
            // ê³µìœ  í´ë¦­ ì¶”ì 
            trackEvent('Instagram Share Click', {
              topWhisky: result[0].name,
              matchPercentage: result[0].matchPercentage
            });

            const topWhisky = result[0];
            const serviceUrl = window.location.href;
            
            // ìŠ¤í† ë¦¬ìš© í…ìŠ¤íŠ¸ (ì‹¤ì œ ìŠ¤í† ë¦¬ì— ì˜¬ë¦´ ë‚´ìš©)
            const shareText = `ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°!

ğŸ† ë‚´ ì¶”ì²œ: ${topWhisky.name}
ğŸ“Š ë§¤ì¹­ë„: ${topWhisky.matchPercentage}%
ğŸ“ ì§€ì—­: ${topWhisky.region}

${topWhisky.description}

#ìœ„ìŠ¤í‚¤ì¶”ì²œ #MBTI #ì·¨í–¥í…ŒìŠ¤íŠ¸ #${topWhisky.name.replace(/\s+/g, '')} #ìœ„ìŠ¤í‚¤ì…ë¬¸

ğŸ‘† ì¹œêµ¬ë“¤ë„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!`;

            // 1ë‹¨ê³„: ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
            const canvas = generateResultImage();
            canvas.toBlob((blob) => {
              const url = URL.createObjectURL(blob);
              const link = document.createElement('a');
              link.download = `ìœ„ìŠ¤í‚¤ì¶”ì²œ_${topWhisky.name.replace(/\s+/g, '_')}.png`;
              link.href = url;
              document.body.appendChild(link);
              link.click();
              document.body.removeChild(link);
              URL.revokeObjectURL(url);

              // ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì¶”ì 
              trackEvent('Result Image Downloaded', {
                whiskyName: topWhisky.name
              });

              // 2ë‹¨ê³„: ìŠ¤í† ë¦¬ í…ìŠ¤íŠ¸ ë³µì‚¬ (ì„ íƒì°½ ì—†ì´)
              navigator.clipboard.writeText(shareText).then(() => {
                trackEvent('Story Text Copied');
              }).catch(() => {
                // í´ë¦½ë³´ë“œ ì‹¤íŒ¨ ì‹œ ëŒ€ì²´ ë°©ë²•
                const textArea = document.createElement('textarea');
                textArea.value = shareText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
              });

              // 3ë‹¨ê³„: ì„œë¹„ìŠ¤ ë§í¬ ë³„ë„ ë³µì‚¬ (0.5ì´ˆ í›„)
              setTimeout(() => {
                navigator.clipboard.writeText(serviceUrl).then(() => {
                  trackEvent('Service URL Copied');
                  alert(`âœ… ì¤€ë¹„ ì™„ë£Œ!
                  
ğŸ“± ë‹¤ìŒ ë‹¨ê³„:
1. ğŸ“· ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ
2. ğŸ“ ìŠ¤í† ë¦¬ í…ìŠ¤íŠ¸ ë³µì‚¬ ì™„ë£Œ  
3. ğŸ”— ì„œë¹„ìŠ¤ ë§í¬ ë³µì‚¬ ì™„ë£Œ

ì´ì œ ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ì—ì„œ:
- ê°¤ëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ ì„ íƒ
- í…ìŠ¤íŠ¸ ë¶™ì—¬ë„£ê¸° (ê¸¸ê²Œ ëˆ„ë¥´ê¸°)
- ë§í¬ ìŠ¤í‹°ì»¤ ì¶”ê°€ í›„ ë§í¬ ë¶™ì—¬ë„£ê¸°`);
                }).catch(() => {
                  alert(`âœ… ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ + í…ìŠ¤íŠ¸ ë³µì‚¬ ì™„ë£Œ!

ğŸ”— ë§í¬ ìŠ¤í‹°ì»¤ìš© URL (ìˆ˜ë™ ë³µì‚¬):
${serviceUrl}

ğŸ“± ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ì—ì„œ ë§í¬ ìŠ¤í‹°ì»¤ì— ìœ„ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”!`);
                });
              }, 500);

              // 4ë‹¨ê³„: 1ì´ˆ í›„ ì¸ìŠ¤íƒ€ê·¸ë¨ ì‹¤í–‰
              setTimeout(() => {
                if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                  window.location.href = 'instagram://story-camera';
                } else {
                  window.open('https://www.instagram.com/stories/create/', '_blank');
                }
              }, 2000);
            }, 'image/png');
          };





          // ëœë”© í˜ì´ì§€
          if (currentScreen === 'landing') {
            return (
              <div className="max-w-2xl mx-auto p-4 bg-gradient-to-br from-amber-50 to-orange-50 min-h-screen flex items-center">
                <div className="bg-white rounded-2xl shadow-2xl p-6 w-full">
                  <div className="text-center mb-8">
                    <div className="text-5xl mb-3">ğŸ¥ƒ</div>
                    <h1 className="text-3xl font-bold text-amber-800 mb-3">
                      ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°
                    </h1>
                    <p className="text-gray-600 mb-4">
                      MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ<br/>
                      ì·¨í–¥ì— ë”± ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œí•´ë“œë ¤ìš”
                    </p>
                  </div>

                  <div className="grid grid-cols-3 gap-3 mb-8">
                    <div className="text-center p-3 bg-amber-50 rounded-lg">
                      <div className="text-2xl mb-1">ğŸ¯</div>
                      <p className="text-xs font-medium text-amber-800">ì •í™•í•œ<br/>ì¶”ì²œ</p>
                    </div>
                    <div className="text-center p-3 bg-orange-50 rounded-lg">
                      <div className="text-2xl mb-1">âš¡</div>
                      <p className="text-xs font-medium text-orange-800">3ë¶„<br/>ì™„ë£Œ</p>
                    </div>
                    <div className="text-center p-3 bg-yellow-50 rounded-lg">
                      <div className="text-2xl mb-1">ğŸ†</div>
                      <p className="text-xs font-medium text-yellow-800">ì „ë¬¸<br/>íë ˆì´ì…˜</p>
                    </div>
                  </div>

                  <div className="mb-8 p-4 bg-gradient-to-r from-amber-100 to-orange-100 rounded-xl">
                    <h3 className="text-center font-bold text-amber-800 mb-3">
                      ğŸ“Š ì´ëŸ° ì‹ìœ¼ë¡œ ì¶”ì²œí•´ìš”!
                    </h3>
                    <div className="bg-white p-3 rounded-lg">
                      <div className="flex items-center gap-2 mb-2">
                        <div className="bg-amber-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">1</div>
                        <span className="font-bold text-amber-900 text-sm">ê¸€ë Œí”¼ë”• 12ë…„</span>
                        <span className="bg-amber-200 px-2 py-1 rounded-full text-xs text-amber-800 font-medium ml-auto">95%</span>
                      </div>
                      <div className="flex gap-1 mb-2">
                        <span className="bg-green-100 px-2 py-1 rounded-full text-xs text-green-700">âœ¨ ë…¼ìŠ¤ëª¨í‚¤</span>
                        <span className="bg-blue-50 px-2 py-1 rounded-full text-xs text-blue-700">ğŸ ê³¼ì¼í–¥</span>
                      </div>
                      <p className="text-xs text-gray-600">ë¶€ë“œëŸ½ê³  ë‹¬ì½¤í•œ ì´ˆë³´ì ì¹œí™”ì ì¸ ìœ„ìŠ¤í‚¤</p>
                    </div>
                  </div>

                  <div className="text-center">
                    <button
                      onClick={startTest}
                      className="w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-4 rounded-2xl text-lg font-bold hover:from-amber-600 hover:to-orange-600 transition-all duration-300 shadow-lg"
                    >
                      ğŸš€ í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°
                    </button>
                    <p className="text-xs text-gray-500 mt-3">
                      3ë¶„ ì†Œìš” â€¢ ë¬´ë£Œ â€¢ íšŒì›ê°€ì… ë¶ˆí•„ìš”
                    </p>
                  </div>
                </div>
              </div>
            );
          }

          // ì§ˆë¬¸ í™”ë©´
          if (currentScreen === 'test') {
            const currentQuestion = questions[currentStep];
            const canProceed = answers[currentQuestion?.id] && 
              (currentQuestion?.type !== 'multiple' || answers[currentQuestion?.id].length > 0);

            return (
              <div className="max-w-2xl mx-auto p-6 bg-gradient-to-br from-amber-50 to-orange-50 min-h-screen">
                <div className="bg-white rounded-2xl shadow-2xl p-8">
                  <div className="text-center mb-8">
                    <h1 className="text-3xl font-bold text-amber-800 mb-2">ğŸ¥ƒ ë‚˜ë§Œì˜ ìœ„ìŠ¤í‚¤ ì°¾ê¸°</h1>
                    <p className="text-gray-600">MBTIì²˜ëŸ¼ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ì·¨í–¥ì— ë§ëŠ” ìœ„ìŠ¤í‚¤ë¥¼ ì¶”ì²œí•´ë“œë ¤ìš”</p>
                  </div>

                  <div className="mb-8">
                    <div className="flex justify-between text-sm text-gray-500 mb-2">
                      <span>ì§„í–‰ë„</span>
                      <span>{currentStep + 1} / {questions.length}</span>
                    </div>
                    <div className="w-full bg-gray-200 rounded-full h-2">
                      <div 
                        className="bg-gradient-to-r from-amber-400 to-orange-500 h-2 rounded-full transition-all duration-500"
                        style={{ width: `${((currentStep + 1) / questions.length) * 100}%` }}
                      />
                    </div>
                  </div>

                  <div className="mb-8">
                    <h2 className="text-xl font-bold text-gray-800 mb-2">{currentQuestion.title}</h2>
                    {currentQuestion.subtitle && (
                      <p className="text-sm text-gray-600 mb-4">{currentQuestion.subtitle}</p>
                    )}

                    <div className="space-y-3">
                      {currentQuestion.options.map((option) => {
                        const isSelected = currentQuestion.type === 'multiple' 
                          ? (answers[currentQuestion.id] || []).includes(option.value)
                          : answers[currentQuestion.id] === option.value;

                        return (
                          <button
                            key={option.value}
                            onClick={() => handleAnswer(currentQuestion.id, option.value)}
                            className={`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 ${
                              isSelected
                                ? 'border-amber-500 bg-amber-50 text-amber-900'
                                : 'border-gray-200 hover:border-amber-300 hover:bg-amber-25'
                            }`}
                          >
                            <div className="flex items-center gap-3">
                              <span className="text-2xl">{option.icon}</span>
                              <span className="font-medium">{option.label}</span>
                            </div>
                          </button>
                        );
                      })}
                    </div>
                  </div>

                  <div className="flex justify-between">
                    <button
                      onClick={prevStep}
                      disabled={currentStep === 0}
                      className={`inline-flex items-center gap-2 px-6 py-3 rounded-xl transition-colors ${
                        currentStep === 0
                          ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
                          : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                      }`}
                    >
                      <ChevronLeft />
                      ì´ì „
                    </button>

                    <button
                      onClick={nextStep}
                      disabled={!canProceed}
                      className={`inline-flex items-center gap-2 px-6 py-3 rounded-xl transition-colors font-medium ${
                        canProceed
                          ? 'bg-amber-600 text-white hover:bg-amber-700'
                          : 'bg-gray-100 text-gray-400 cursor-not-allowed'
                      }`}
                    >
                      {currentStep === questions.length - 1 ? 'ê²°ê³¼ ë³´ê¸°' : 'ë‹¤ìŒ'}
                      <ChevronRight />
                    </button>
                  </div>
                </div>
              </div>
            );
          }

          // ê²°ê³¼ í™”ë©´
          if (result) {
            return (
              <div className="max-w-4xl mx-auto p-6 bg-gradient-to-br from-amber-50 to-orange-50 min-h-screen">
                <div className="bg-white rounded-2xl shadow-2xl p-8">
                  <div className="text-center mb-8">
                    <h1 className="text-3xl font-bold text-amber-800 mb-2">ğŸ¥ƒ ë‹¹ì‹ ë§Œì˜ ìœ„ìŠ¤í‚¤ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤!</h1>
                    <p className="text-gray-600">ì·¨í–¥ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ì—„ì„ í•œ ì¶”ì²œ ìœ„ìŠ¤í‚¤ë“¤ì´ì—ìš”</p>
                  </div>

                  <div className="space-y-6">
                    {result.map((whisky, index) => (
                      <div key={index} className="bg-gradient-to-r from-amber-100 to-orange-100 rounded-xl p-6 border-2 border-amber-200">
                        <div className="flex items-start justify-between mb-4">
                          <div className="flex items-center gap-3">
                            <div className="bg-amber-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
                              {index + 1}
                            </div>
                            <h3 className="text-xl font-bold text-amber-900">{whisky.name}</h3>
                            <div className="flex items-center gap-1">
                              <span className="text-sm text-gray-600">ì¶”ì²œë„:</span>
                              <div className="flex text-amber-500">
                                {[...Array(Math.min(5, Math.max(1, Math.round((whisky.matchPercentage / 100) * 5))))].map((_, i) => (
                                  <Star key={i} />
                                ))}
                              </div>
                            </div>
                          </div>
                          <div className="bg-amber-200 px-3 py-1 rounded-full text-sm font-medium text-amber-800">
                            ë§¤ì¹­ë„: {whisky.matchPercentage}%
                          </div>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                          <div className="space-y-2">
                            <div className="flex items-center gap-2 text-sm text-gray-700">
                              <MapPin />
                              <span>{whisky.region}</span>
                            </div>
                            <div className="flex items-center gap-2 text-sm text-gray-700">
                              <Zap />
                              <span>ë„ìˆ˜: {whisky.abv}%</span>
                            </div>
                            <div className="flex items-center gap-2 text-sm text-gray-700">
                              <Grape />
                              <span>{whisky.price}</span>
                            </div>
                          </div>
                        </div>

                        <p className="text-gray-700 mb-2">{whisky.description}</p>
                        <p className="text-sm text-gray-600 bg-white p-3 rounded-lg">
                          <strong>í…Œì´ìŠ¤íŒ… ë…¸íŠ¸:</strong> {whisky.notes}
                        </p>
                      </div>
                    ))}
                  </div>

                  <div className="mt-8 text-center space-y-4">
                    <div className="mb-6">
                      <h4 className="text-lg font-bold text-gray-800 mb-4">ğŸ“¢ ê²°ê³¼ ê³µìœ í•˜ê¸°</h4>
                      
                      {/* ì¸ìŠ¤íƒ€ê·¸ë¨ ê³µìœ  ê°€ì´ë“œ ë¯¸ë¦¬ í‘œì‹œ */}
                      <div className="bg-gradient-to-r from-pink-50 to-purple-50 p-4 rounded-xl mb-4">
                        <h5 className="font-bold text-gray-800 mb-3">ğŸ“± ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ ê³µìœ  ë°©ë²•</h5>
                        <div className="text-sm text-gray-700 text-left space-y-1">
                          <p>1. ğŸ“· ì•„ë˜ ë²„íŠ¼ í´ë¦­ â†’ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ + ë§í¬ ë³µì‚¬</p>
                          <p>2. ğŸ“± ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ ì‘ì„± â†’ ê°¤ëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ ì„ íƒ</p>
                          <p>3. ğŸ“ í…ìŠ¤íŠ¸ ì¶”ê°€ â†’ ë³µì‚¬ëœ ë‚´ìš© ë¶™ì—¬ë„£ê¸°</p>
                          <p>4. ğŸ˜Š ìŠ¤í‹°ì»¤ â†’ ğŸ”— ë§í¬ ìŠ¤í‹°ì»¤ â†’ ë³µì‚¬ëœ ë§í¬ ë¶™ì—¬ë„£ê¸°</p>
                          <p>5. ğŸ“¤ ìŠ¤í† ë¦¬ ê²Œì‹œ!</p>
                        </div>
                      </div>
                      
                      <div className="flex flex-wrap justify-center gap-3">
                        <button
                          onClick={shareToInstagram}
                          className="flex items-center gap-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white px-6 py-3 rounded-lg hover:from-pink-600 hover:to-purple-600 transition-colors font-medium"
                        >
                          ğŸ“¸ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ + ë§í¬ ë³µì‚¬
                        </button>
                      </div>
                    </div>

                    <button
                      onClick={resetTest}
                      className="inline-flex items-center gap-2 bg-amber-600 text-white px-6 py-3 rounded-xl hover:bg-amber-700 transition-colors font-medium"
                    >
                      <RotateCcw />
                      ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
                    </button>
                  </div>

                  <div className="mt-8 p-4 bg-amber-50 rounded-xl">
                    <h4 className="font-bold text-amber-800 mb-2">ğŸ’¡ ì´ˆë³´ìë¥¼ ìœ„í•œ íŒ</h4>
                    <ul className="text-sm text-gray-700 space-y-1">
                      <li>â€¢ ì²˜ìŒì—” ìŠ¤íŠ¸ë ˆì´íŠ¸ë³´ë‹¤ ì˜¨ë”ë½ì´ë‚˜ í•˜ì´ë³¼ë¡œ ì‹œì‘í•´ë³´ì„¸ìš”</li>
                      <li>â€¢ ìœ„ìŠ¤í‚¤ ì „ìš© ê¸€ë¼ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ í–¥ì„ ë” ì˜ ëŠë‚„ ìˆ˜ ìˆì–´ìš”</li>
                      <li>â€¢ ë¬¼ì„ í•œë‘ ë°©ìš¸ ë–¨ì–´ëœ¨ë¦¬ë©´ í–¥ì´ ë” í™œì§ ì—´ë¦½ë‹ˆë‹¤</li>
                      <li>â€¢ ì²œì²œíˆ ìŒë¯¸í•˜ë©° ë§ˆì‹œëŠ” ê²ƒì´ í¬ì¸íŠ¸ì˜ˆìš”</li>
                    </ul>
                  </div>
                </div>
              </div>
            );
          }

          return null;
        };

        ReactDOM.render(<WhiskyRecommendationApp />, document.getElementById('root'));
    </script>
</body>
</html>